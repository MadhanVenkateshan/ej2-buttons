/*!
*  filename: ej2-buttons.umd.min.js.map
*  version : 15.4.21
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

{"version":3,"sources":["ej2-buttons.umd.js"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_3__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","index_1","index_2","index_3","index_4","__export","hasOwnProperty","Object","defineProperty","value","apply","common_1","ej2_base_1","ej2_base_2","wrapperInitialize","tag","type","element","WRAPPER","tagName","ejInstance","getValue","input","createElement","attrs","props","wrapper","className","role","aria-checked","index","len","attributes","length","indexOf","nodeName","setAttribute","nodeValue","parentNode","insertBefore","detach","appendChild","setValue","getTextNode","node","childnode","childNodes","nodeType","createCheckBox","enableRipple","options","cssClass","addClass","split","enableRtl","classList","add","rippleSpan","rippleEffect","isCenterRipple","duration","frameSpan","checked","label","labelSpan","innerHTML","rippleMouseHandler","e","event_1","document","createEvent","initEvent","dispatchEvent","button_1","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","__","constructor","prototype","create","__decorate","decorators","target","key","desc","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","ej2_base_3","cssClassName","RTL","BUTTON","PRIMARY","ICONBTN","Button","_super","preRender","render","initialize","isPrimary","content","setIconCss","disabled","controlStatus","selector","wireEvents","iconCss","textContent","span","iconPosition","isToggle","EventHandler","btnClickHandler","unWireEvents","remove","contains","destroy","removeClass","forEach","removeAttribute","replace","querySelector","getModuleName","getPersistData","addOnPersist","onPropertyChanged","newProp","oldProp","_i","_a","keys","Property","NotifyPropertyChanges","Component","check_box_1","RIPPLE","CheckBox","_this","isKeyPressed","changeState","state","ariaState","getWrapper","getElementsByClassName","isRippleEnabled","indeterminate","clickHandler","event","focusOutHandler","changeEventArgs","trigger","focusHandler","parentElement","name","setDisabled","initWrapper","for","labelPosition","setText","keyActionHandler","action","preventDefault","keyDownHandler","labelMouseHandler","mouseDownHandler","labelWrap","getElementsByTagName","getAttribute","getUniqueID","text","keyboardModule","KeyboardEvents","eventName","keyAction","bind","keyConfigs","space","Event","radio_button_1","RadioButton","RadioButton_1","changeHandler","dataBind","updateChange","radioGrp","querySelectorAll","getInstance","radioWrap","getLabel","nextElementSibling","labelRippleHandler","ripple","textLabel","rippleLabel"],"mappings":"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","file":"ej2-buttons.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@syncfusion/ej2-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@syncfusion/ej2-base\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"@syncfusion/ej2-base\")) : factory(root[\"@syncfusion/ej2-base\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(1), __webpack_require__(4), __webpack_require__(6), __webpack_require__(8)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, index_1, index_2, index_3, index_4) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(index_1);\n\t    __export(index_2);\n\t    __export(index_3);\n\t    __export(index_4);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, common_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(common_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    function wrapperInitialize(tag, type, element, WRAPPER) {\n\t        if (element.tagName === tag) {\n\t            var ejInstance = ej2_base_2.getValue('ej2_instances', element);\n\t            var input = ej2_base_1.createElement('input', { attrs: { 'type': type } });\n\t            var props = ['change', 'cssClass', 'label', 'labelPosition'];\n\t            var wrapper = ej2_base_1.createElement(tag, {\n\t                className: WRAPPER, attrs: { 'role': type, 'aria-checked': 'false' }\n\t            });\n\t            for (var index = 0, len = element.attributes.length; index < len; index++) {\n\t                if (props.indexOf(element.attributes[index].nodeName) === -1) {\n\t                    input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n\t                }\n\t            }\n\t            element.parentNode.insertBefore(input, element);\n\t            ej2_base_1.detach(element);\n\t            element = input;\n\t            element.parentNode.insertBefore(wrapper, element);\n\t            wrapper.appendChild(element);\n\t            ej2_base_1.setValue('ej2_instances', ejInstance, element);\n\t        }\n\t        return element;\n\t    }\n\t    exports.wrapperInitialize = wrapperInitialize;\n\t    function getTextNode(element) {\n\t        var node;\n\t        var childnode = element.childNodes;\n\t        for (var i = 0; i < childnode.length; i++) {\n\t            node = childnode[i];\n\t            if (node.nodeType === 3) {\n\t                return node;\n\t            }\n\t        }\n\t        return null;\n\t    }\n\t    exports.getTextNode = getTextNode;\n\t    function createCheckBox(enableRipple, options) {\n\t        if (enableRipple === void 0) { enableRipple = false; }\n\t        if (options === void 0) { options = {}; }\n\t        var wrapper = ej2_base_1.createElement('div', { className: 'e-checkbox-wrapper' });\n\t        if (options.cssClass) {\n\t            ej2_base_2.addClass([wrapper], options.cssClass.split(' '));\n\t        }\n\t        if (options.enableRtl) {\n\t            wrapper.classList.add('e-rtl');\n\t        }\n\t        if (enableRipple) {\n\t            var rippleSpan = ej2_base_1.createElement('span', { className: 'e-ripple-container' });\n\t            ej2_base_1.rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n\t            wrapper.appendChild(rippleSpan);\n\t        }\n\t        var frameSpan = ej2_base_1.createElement('span', { className: 'e-frame e-icons' });\n\t        if (options.checked) {\n\t            frameSpan.classList.add('e-check');\n\t        }\n\t        wrapper.appendChild(frameSpan);\n\t        if (options.label) {\n\t            var labelSpan = ej2_base_1.createElement('span', { className: 'e-label', innerHTML: options.label });\n\t            wrapper.appendChild(labelSpan);\n\t        }\n\t        return wrapper;\n\t    }\n\t    exports.createCheckBox = createCheckBox;\n\t    function rippleMouseHandler(e, rippleSpan) {\n\t        if (rippleSpan) {\n\t            var event_1 = document.createEvent('MouseEvents');\n\t            event_1.initEvent(e.type, false, true);\n\t            rippleSpan.dispatchEvent(event_1);\n\t        }\n\t    }\n\t    exports.rippleMouseHandler = rippleMouseHandler;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(5)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, button_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(button_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2, ej2_base_3, common_1) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var cssClassName = {\n\t        RTL: 'e-rtl',\n\t        BUTTON: 'e-btn',\n\t        PRIMARY: 'e-primary',\n\t        ICONBTN: 'e-icon-btn'\n\t    };\n\t    var Button = (function (_super) {\n\t        __extends(Button, _super);\n\t        function Button(options, element) {\n\t            return _super.call(this, options, element) || this;\n\t        }\n\t        Button.prototype.preRender = function () {\n\t        };\n\t        Button.prototype.render = function () {\n\t            this.initialize();\n\t        };\n\t        Button.prototype.initialize = function () {\n\t            if (this.cssClass) {\n\t                ej2_base_3.addClass([this.element], this.cssClass.split(' '));\n\t            }\n\t            if (this.isPrimary) {\n\t                this.element.classList.add(cssClassName.PRIMARY);\n\t            }\n\t            if (this.content) {\n\t                this.element.innerHTML = this.content;\n\t            }\n\t            this.setIconCss();\n\t            if (this.enableRtl) {\n\t                this.element.classList.add(cssClassName.RTL);\n\t            }\n\t            if (this.disabled) {\n\t                this.controlStatus(this.disabled);\n\t            }\n\t            ej2_base_2.rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n\t            this.wireEvents();\n\t        };\n\t        Button.prototype.controlStatus = function (disabled) {\n\t            this.element.disabled = disabled;\n\t        };\n\t        Button.prototype.setIconCss = function () {\n\t            if (this.iconCss) {\n\t                if (!this.element.textContent) {\n\t                    this.element.classList.add(cssClassName.ICONBTN);\n\t                }\n\t                var span = ej2_base_3.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n\t                var node = this.element.childNodes[0];\n\t                if (node && this.iconPosition === 'left') {\n\t                    this.element.insertBefore(span, node);\n\t                    span.classList.add('e-icon-left');\n\t                }\n\t                else {\n\t                    this.element.appendChild(span);\n\t                    if (this.iconPosition === 'right') {\n\t                        span.classList.add('e-icon-right');\n\t                    }\n\t                }\n\t            }\n\t        };\n\t        Button.prototype.wireEvents = function () {\n\t            if (this.isToggle) {\n\t                ej2_base_2.EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n\t            }\n\t        };\n\t        Button.prototype.unWireEvents = function () {\n\t            if (this.isToggle) {\n\t                ej2_base_2.EventHandler.remove(this.element, 'click', this.btnClickHandler);\n\t            }\n\t        };\n\t        Button.prototype.btnClickHandler = function () {\n\t            if (this.element.classList.contains('e-active')) {\n\t                this.element.classList.remove('e-active');\n\t            }\n\t            else {\n\t                this.element.classList.add('e-active');\n\t            }\n\t        };\n\t        Button.prototype.destroy = function () {\n\t            var span;\n\t            var element = this.element;\n\t            _super.prototype.destroy.call(this);\n\t            ej2_base_3.removeClass([this.element], [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success',\n\t                'e-info', 'e-danger', 'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round']);\n\t            ['e-ripple', 'disabled'].forEach(function (value) {\n\t                element.removeAttribute(value);\n\t            });\n\t            if (this.content) {\n\t                element.innerHTML = element.innerHTML.replace(this.content, '');\n\t            }\n\t            span = element.querySelector('span.e-btn-icon');\n\t            if (span) {\n\t                ej2_base_3.detach(span);\n\t            }\n\t            this.unWireEvents();\n\t        };\n\t        Button.prototype.getModuleName = function () {\n\t            return 'btn';\n\t        };\n\t        Button.prototype.getPersistData = function () {\n\t            return this.addOnPersist([]);\n\t        };\n\t        Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n\t            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n\t                var prop = _a[_i];\n\t                switch (prop) {\n\t                    case 'isPrimary':\n\t                        if (newProp.isPrimary) {\n\t                            this.element.classList.add(cssClassName.PRIMARY);\n\t                        }\n\t                        else {\n\t                            this.element.classList.remove(cssClassName.PRIMARY);\n\t                        }\n\t                        break;\n\t                    case 'disabled':\n\t                        this.controlStatus(this.disabled);\n\t                        break;\n\t                    case 'iconCss':\n\t                        var span = this.element.querySelector('span.e-btn-icon');\n\t                        if (span) {\n\t                            span.className = 'e-btn-icon ' + this.iconCss;\n\t                            if (this.element.textContent) {\n\t                                if (this.iconPosition === 'left') {\n\t                                    span.classList.add('e-icon-left');\n\t                                }\n\t                                else {\n\t                                    span.classList.add('e-icon-right');\n\t                                }\n\t                            }\n\t                        }\n\t                        else {\n\t                            this.setIconCss();\n\t                        }\n\t                        break;\n\t                    case 'iconPosition':\n\t                        span = this.element.querySelector('span.e-btn-icon');\n\t                        if (span) {\n\t                            ej2_base_3.detach(span);\n\t                        }\n\t                        this.setIconCss();\n\t                        break;\n\t                    case 'cssClass':\n\t                        if (oldProp.cssClass) {\n\t                            ej2_base_3.removeClass([this.element], oldProp.cssClass.split(' '));\n\t                        }\n\t                        ej2_base_3.addClass([this.element], newProp.cssClass.split(' '));\n\t                        break;\n\t                    case 'enableRtl':\n\t                        if (newProp.enableRtl) {\n\t                            this.element.classList.add(cssClassName.RTL);\n\t                        }\n\t                        else {\n\t                            this.element.classList.remove(cssClassName.RTL);\n\t                        }\n\t                        break;\n\t                    case 'content':\n\t                        var node = common_1.getTextNode(this.element);\n\t                        if (node) {\n\t                            node.textContent = newProp.content;\n\t                        }\n\t                        else {\n\t                            this.element.innerHTML = newProp.content;\n\t                            this.element.classList.remove(cssClassName.ICONBTN);\n\t                            this.setIconCss();\n\t                        }\n\t                        break;\n\t                    case 'isToggle':\n\t                        if (newProp.isToggle) {\n\t                            ej2_base_2.EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n\t                        }\n\t                        else {\n\t                            ej2_base_2.EventHandler.remove(this.element, 'click', this.btnClickHandler);\n\t                            ej2_base_3.removeClass([this.element], ['e-active']);\n\t                        }\n\t                        break;\n\t                }\n\t            }\n\t        };\n\t        __decorate([\n\t            ej2_base_1.Property('left')\n\t        ], Button.prototype, \"iconPosition\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], Button.prototype, \"iconCss\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property(false)\n\t        ], Button.prototype, \"disabled\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property(false)\n\t        ], Button.prototype, \"isPrimary\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], Button.prototype, \"cssClass\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], Button.prototype, \"content\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property(false)\n\t        ], Button.prototype, \"isToggle\", void 0);\n\t        Button = __decorate([\n\t            ej2_base_1.NotifyPropertyChanges\n\t        ], Button);\n\t        return Button;\n\t    }(ej2_base_1.Component));\n\t    exports.Button = Button;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(7)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, check_box_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(check_box_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2, ej2_base_3, common_1) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var CHECK = 'e-check';\n\t    var DISABLED = 'e-checkbox-disabled';\n\t    var FRAME = 'e-frame';\n\t    var INDETERMINATE = 'e-stop';\n\t    var LABEL = 'e-label';\n\t    var RIPPLE = 'e-ripple-container';\n\t    var RIPPLECHECK = 'e-ripple-check';\n\t    var RIPPLEINDETERMINATE = 'e-ripple-stop';\n\t    var RTL = 'e-rtl';\n\t    var WRAPPER = 'e-checkbox-wrapper';\n\t    var CheckBox = (function (_super) {\n\t        __extends(CheckBox, _super);\n\t        function CheckBox(options, element) {\n\t            var _this = _super.call(this, options, element) || this;\n\t            _this.isKeyPressed = false;\n\t            return _this;\n\t        }\n\t        CheckBox.prototype.changeState = function (state) {\n\t            var ariaState;\n\t            var rippleSpan;\n\t            var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n\t            if (ej2_base_3.isRippleEnabled) {\n\t                rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n\t            }\n\t            if (state === 'check') {\n\t                frameSpan.classList.remove(INDETERMINATE);\n\t                frameSpan.classList.add(CHECK);\n\t                if (rippleSpan) {\n\t                    rippleSpan.classList.remove(RIPPLEINDETERMINATE);\n\t                    rippleSpan.classList.add(RIPPLECHECK);\n\t                }\n\t                ariaState = 'true';\n\t                this.element.checked = true;\n\t            }\n\t            else if (state === 'uncheck') {\n\t                ej2_base_3.removeClass([frameSpan], [CHECK, INDETERMINATE]);\n\t                if (rippleSpan) {\n\t                    ej2_base_3.removeClass([rippleSpan], [RIPPLECHECK, RIPPLEINDETERMINATE]);\n\t                }\n\t                ariaState = 'false';\n\t                this.element.checked = false;\n\t            }\n\t            else {\n\t                frameSpan.classList.remove(CHECK);\n\t                frameSpan.classList.add(INDETERMINATE);\n\t                if (rippleSpan) {\n\t                    rippleSpan.classList.remove(RIPPLECHECK);\n\t                    rippleSpan.classList.add(RIPPLEINDETERMINATE);\n\t                }\n\t                ariaState = 'mixed';\n\t                this.element.indeterminate = true;\n\t            }\n\t            this.getWrapper().setAttribute('aria-checked', ariaState);\n\t        };\n\t        CheckBox.prototype.clickHandler = function (event) {\n\t            this.focusOutHandler();\n\t            if (this.indeterminate) {\n\t                this.changeState(this.checked ? 'check' : 'uncheck');\n\t                this.indeterminate = false;\n\t                this.element.indeterminate = false;\n\t            }\n\t            else if (this.checked) {\n\t                this.changeState('uncheck');\n\t                this.checked = false;\n\t            }\n\t            else {\n\t                this.changeState('check');\n\t                this.checked = true;\n\t            }\n\t            var changeEventArgs = { checked: this.element.checked, event: event };\n\t            this.trigger('change', changeEventArgs);\n\t        };\n\t        CheckBox.prototype.destroy = function () {\n\t            var _this = this;\n\t            var wrapper = this.getWrapper();\n\t            _super.prototype.destroy.call(this);\n\t            if (!this.disabled) {\n\t                this.unWireEvents();\n\t            }\n\t            if (this.tagName === 'INPUT') {\n\t                wrapper.parentNode.insertBefore(this.element, wrapper);\n\t                ej2_base_3.detach(wrapper);\n\t                this.element.checked = false;\n\t                if (this.indeterminate) {\n\t                    this.element.indeterminate = false;\n\t                }\n\t                ['name', 'value', 'disabled'].forEach(function (key) {\n\t                    _this.element.removeAttribute(key);\n\t                });\n\t            }\n\t            else {\n\t                ['role', 'aria-checked', 'class'].forEach(function (key) {\n\t                    wrapper.removeAttribute(key);\n\t                });\n\t                if (this.element.id) {\n\t                    wrapper.setAttribute('id', this.element.id);\n\t                }\n\t                wrapper.innerHTML = '';\n\t            }\n\t        };\n\t        CheckBox.prototype.focusHandler = function () {\n\t            if (this.isKeyPressed) {\n\t                this.getWrapper().classList.add('e-focus');\n\t            }\n\t        };\n\t        CheckBox.prototype.focusOutHandler = function () {\n\t            this.getWrapper().classList.remove('e-focus');\n\t        };\n\t        CheckBox.prototype.getModuleName = function () {\n\t            return 'checkbox';\n\t        };\n\t        CheckBox.prototype.getPersistData = function () {\n\t            return this.addOnPersist(['checked', 'indeterminate']);\n\t        };\n\t        CheckBox.prototype.getWrapper = function () {\n\t            return this.element.parentElement.parentElement;\n\t        };\n\t        CheckBox.prototype.initialize = function () {\n\t            if (this.name) {\n\t                this.element.setAttribute('name', this.name);\n\t            }\n\t            if (this.value) {\n\t                this.element.setAttribute('value', this.value);\n\t            }\n\t            if (this.checked) {\n\t                this.changeState('check');\n\t            }\n\t            if (this.indeterminate) {\n\t                this.changeState();\n\t            }\n\t            if (this.disabled) {\n\t                this.setDisabled();\n\t            }\n\t        };\n\t        CheckBox.prototype.initWrapper = function () {\n\t            var wrapper = this.element.parentElement;\n\t            if (!wrapper.classList.contains(WRAPPER)) {\n\t                wrapper = ej2_base_3.createElement('div', {\n\t                    className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n\t                });\n\t                this.element.parentNode.insertBefore(wrapper, this.element);\n\t            }\n\t            var label = ej2_base_3.createElement('label', { attrs: { for: this.element.id } });\n\t            var frameSpan = ej2_base_3.createElement('span', { className: 'e-icons ' + FRAME });\n\t            if (this.enableRtl) {\n\t                wrapper.classList.add(RTL);\n\t            }\n\t            if (this.cssClass) {\n\t                ej2_base_3.addClass([wrapper], this.cssClass.split(' '));\n\t            }\n\t            wrapper.appendChild(label);\n\t            label.appendChild(this.element);\n\t            label.appendChild(frameSpan);\n\t            if (ej2_base_3.isRippleEnabled) {\n\t                var rippleSpan = ej2_base_3.createElement('span', { className: RIPPLE });\n\t                if (this.labelPosition === 'before') {\n\t                    label.appendChild(rippleSpan);\n\t                }\n\t                else {\n\t                    label.insertBefore(rippleSpan, frameSpan);\n\t                }\n\t                ej2_base_3.rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n\t            }\n\t            if (this.label) {\n\t                this.setText(this.label);\n\t            }\n\t        };\n\t        CheckBox.prototype.keyActionHandler = function (e) {\n\t            if (e.action === 'space') {\n\t                e.preventDefault();\n\t                this.clickHandler(e);\n\t                this.focusHandler();\n\t            }\n\t        };\n\t        CheckBox.prototype.keyDownHandler = function () {\n\t            this.isKeyPressed = true;\n\t        };\n\t        CheckBox.prototype.labelMouseHandler = function (e) {\n\t            var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n\t            common_1.rippleMouseHandler(e, rippleSpan);\n\t        };\n\t        CheckBox.prototype.mouseDownHandler = function () {\n\t            this.isKeyPressed = false;\n\t        };\n\t        CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n\t            var wrapper = this.getWrapper();\n\t            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n\t                var prop = _a[_i];\n\t                switch (prop) {\n\t                    case 'checked':\n\t                        this.indeterminate = false;\n\t                        this.element.indeterminate = false;\n\t                        this.changeState(newProp.checked ? 'check' : 'uncheck');\n\t                        break;\n\t                    case 'indeterminate':\n\t                        if (newProp.indeterminate) {\n\t                            this.changeState();\n\t                        }\n\t                        else {\n\t                            this.element.indeterminate = false;\n\t                            this.changeState(this.checked ? 'check' : 'uncheck');\n\t                        }\n\t                        break;\n\t                    case 'disabled':\n\t                        if (newProp.disabled) {\n\t                            this.setDisabled();\n\t                            this.unWireEvents();\n\t                        }\n\t                        else {\n\t                            this.element.disabled = false;\n\t                            wrapper.classList.remove(DISABLED);\n\t                            wrapper.setAttribute('aria-disabled', 'false');\n\t                            this.wireEvents();\n\t                        }\n\t                        break;\n\t                    case 'cssClass':\n\t                        if (oldProp.cssClass) {\n\t                            wrapper.classList.remove(oldProp.cssClass);\n\t                        }\n\t                        wrapper.classList.add(newProp.cssClass);\n\t                        break;\n\t                    case 'enableRtl':\n\t                        if (newProp.enableRtl) {\n\t                            wrapper.classList.add(RTL);\n\t                        }\n\t                        else {\n\t                            wrapper.classList.remove(RTL);\n\t                        }\n\t                        break;\n\t                    case 'label':\n\t                        this.setText(newProp.label);\n\t                        break;\n\t                    case 'labelPosition':\n\t                        var label = wrapper.getElementsByClassName(LABEL)[0];\n\t                        var labelWrap = wrapper.getElementsByTagName('label')[0];\n\t                        ej2_base_3.detach(label);\n\t                        if (newProp.labelPosition === 'after') {\n\t                            labelWrap.appendChild(label);\n\t                        }\n\t                        else {\n\t                            labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n\t                        }\n\t                        break;\n\t                    case 'name':\n\t                        this.element.setAttribute('name', newProp.name);\n\t                        break;\n\t                    case 'value':\n\t                        this.element.setAttribute('value', newProp.value);\n\t                        break;\n\t                }\n\t            }\n\t        };\n\t        CheckBox.prototype.preRender = function () {\n\t            var element = this.element;\n\t            this.tagName = this.element.tagName;\n\t            element = common_1.wrapperInitialize('EJ-CHECKBOX', 'checkbox', element, WRAPPER);\n\t            this.element = element;\n\t            if (this.element.getAttribute('type') !== 'checkbox') {\n\t                this.element.setAttribute('type', 'checkbox');\n\t            }\n\t            if (!this.element.id) {\n\t                this.element.id = ej2_base_3.getUniqueID('e-' + this.getModuleName());\n\t            }\n\t        };\n\t        CheckBox.prototype.render = function () {\n\t            this.initWrapper();\n\t            this.initialize();\n\t            if (!this.disabled) {\n\t                this.wireEvents();\n\t            }\n\t        };\n\t        CheckBox.prototype.setDisabled = function () {\n\t            var wrapper = this.getWrapper();\n\t            this.element.disabled = true;\n\t            wrapper.classList.add(DISABLED);\n\t            wrapper.setAttribute('aria-disabled', 'true');\n\t        };\n\t        CheckBox.prototype.setText = function (text) {\n\t            var label = this.getWrapper().getElementsByClassName(LABEL)[0];\n\t            if (label) {\n\t                label.textContent = text;\n\t            }\n\t            else {\n\t                label = ej2_base_3.createElement('span', { className: LABEL, innerHTML: text });\n\t                var labelWrap = this.getWrapper().getElementsByTagName('label')[0];\n\t                if (this.labelPosition === 'before') {\n\t                    labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName(FRAME)[0]);\n\t                }\n\t                else {\n\t                    labelWrap.appendChild(label);\n\t                }\n\t            }\n\t        };\n\t        CheckBox.prototype.unWireEvents = function () {\n\t            var wrapper = this.getWrapper();\n\t            ej2_base_2.EventHandler.remove(this.element, 'click', this.clickHandler);\n\t            this.keyboardModule.destroy();\n\t            ej2_base_2.EventHandler.remove(document, 'keydown', this.keyDownHandler);\n\t            ej2_base_2.EventHandler.remove(wrapper, 'mousedown', this.mouseDownHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focus', this.focusHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n\t            var label = wrapper.getElementsByTagName('label')[0];\n\t            ej2_base_2.EventHandler.remove(label, 'mousedown', this.labelMouseHandler);\n\t            ej2_base_2.EventHandler.remove(label, 'mouseup', this.labelMouseHandler);\n\t        };\n\t        CheckBox.prototype.wireEvents = function () {\n\t            var wrapper = this.getWrapper();\n\t            ej2_base_2.EventHandler.add(this.element, 'click', this.clickHandler, this);\n\t            this.keyboardModule = new ej2_base_2.KeyboardEvents(wrapper, {\n\t                eventName: 'keyup',\n\t                keyAction: this.keyActionHandler.bind(this),\n\t                keyConfigs: { space: 'space' }\n\t            });\n\t            ej2_base_2.EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n\t            ej2_base_2.EventHandler.add(wrapper, 'mousedown', this.mouseDownHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focus', this.focusHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n\t            var label = wrapper.getElementsByTagName('label')[0];\n\t            ej2_base_2.EventHandler.add(label, 'mousedown', this.labelMouseHandler, this);\n\t            ej2_base_2.EventHandler.add(label, 'mouseup', this.labelMouseHandler, this);\n\t        };\n\t        __decorate([\n\t            ej2_base_2.Event()\n\t        ], CheckBox.prototype, \"change\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property(false)\n\t        ], CheckBox.prototype, \"checked\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], CheckBox.prototype, \"cssClass\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property(false)\n\t        ], CheckBox.prototype, \"disabled\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property(false)\n\t        ], CheckBox.prototype, \"indeterminate\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], CheckBox.prototype, \"label\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('after')\n\t        ], CheckBox.prototype, \"labelPosition\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], CheckBox.prototype, \"name\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], CheckBox.prototype, \"value\", void 0);\n\t        CheckBox = __decorate([\n\t            ej2_base_1.NotifyPropertyChanges\n\t        ], CheckBox);\n\t        return CheckBox;\n\t    }(ej2_base_1.Component));\n\t    exports.CheckBox = CheckBox;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(9)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, radio_button_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(radio_button_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2, ej2_base_3, common_1) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var LABEL = 'e-label';\n\t    var RIPPLE = 'e-ripple-container';\n\t    var RTL = 'e-rtl';\n\t    var WRAPPER = 'e-radio-wrapper';\n\t    var RadioButton = (function (_super) {\n\t        __extends(RadioButton, _super);\n\t        function RadioButton(options, element) {\n\t            var _this = _super.call(this, options, element) || this;\n\t            _this.isKeyPressed = false;\n\t            return _this;\n\t        }\n\t        RadioButton_1 = RadioButton;\n\t        RadioButton.prototype.changeHandler = function (event) {\n\t            this.checked = true;\n\t            this.dataBind();\n\t            var changeEventArgs = { value: this.value, event: event };\n\t            this.trigger('change', changeEventArgs);\n\t        };\n\t        RadioButton.prototype.updateChange = function (state) {\n\t            var input;\n\t            var name = this.element.getAttribute('name');\n\t            var radioGrp = document.querySelectorAll('input.e-radio[name=\"' + name + '\"]');\n\t            for (var i = 0; i < radioGrp.length; i++) {\n\t                input = radioGrp[i];\n\t                if (input !== this.element) {\n\t                    ej2_base_3.getInstance(input, RadioButton_1).checked = false;\n\t                }\n\t            }\n\t        };\n\t        RadioButton.prototype.destroy = function () {\n\t            var _this = this;\n\t            var radioWrap = this.element.parentElement;\n\t            _super.prototype.destroy.call(this);\n\t            if (!this.disabled) {\n\t                this.unWireEvents();\n\t            }\n\t            if (this.tagName === 'INPUT') {\n\t                radioWrap.parentNode.insertBefore(this.element, radioWrap);\n\t                ej2_base_3.detach(radioWrap);\n\t                this.element.checked = false;\n\t                ['name', 'value', 'disabled'].forEach(function (key) {\n\t                    _this.element.removeAttribute(key);\n\t                });\n\t            }\n\t            else {\n\t                ['role', 'aria-checked', 'class'].forEach(function (key) {\n\t                    radioWrap.removeAttribute(key);\n\t                });\n\t                if (this.element.id) {\n\t                    radioWrap.setAttribute('id', this.element.id);\n\t                }\n\t                radioWrap.innerHTML = '';\n\t            }\n\t        };\n\t        RadioButton.prototype.focusHandler = function () {\n\t            if (this.isKeyPressed) {\n\t                this.getLabel().classList.add('e-focus');\n\t            }\n\t        };\n\t        RadioButton.prototype.focusOutHandler = function () {\n\t            this.getLabel().classList.remove('e-focus');\n\t        };\n\t        RadioButton.prototype.getModuleName = function () {\n\t            return 'radio';\n\t        };\n\t        RadioButton.prototype.getPersistData = function () {\n\t            return this.addOnPersist(['checked']);\n\t        };\n\t        RadioButton.prototype.getLabel = function () {\n\t            return this.element.nextElementSibling;\n\t        };\n\t        RadioButton.prototype.initialize = function () {\n\t            this.initWrapper();\n\t            if (this.name) {\n\t                this.element.setAttribute('name', this.name);\n\t            }\n\t            if (this.value) {\n\t                this.element.setAttribute('value', this.value);\n\t            }\n\t            if (this.checked) {\n\t                this.element.checked = true;\n\t            }\n\t            if (this.disabled) {\n\t                this.setDisabled();\n\t            }\n\t        };\n\t        RadioButton.prototype.initWrapper = function () {\n\t            var rippleSpan;\n\t            var wrapper = this.element.parentElement;\n\t            if (!wrapper.classList.contains(WRAPPER)) {\n\t                wrapper = ej2_base_3.createElement('div', { className: WRAPPER });\n\t                this.element.parentNode.insertBefore(wrapper, this.element);\n\t            }\n\t            var label = ej2_base_3.createElement('label', { attrs: { for: this.element.id } });\n\t            wrapper.appendChild(this.element);\n\t            wrapper.appendChild(label);\n\t            if (ej2_base_3.isRippleEnabled) {\n\t                rippleSpan = ej2_base_3.createElement('span', { className: (RIPPLE) });\n\t                label.appendChild(rippleSpan);\n\t                ej2_base_1.rippleEffect(rippleSpan, {\n\t                    duration: 400,\n\t                    isCenterRipple: true\n\t                });\n\t            }\n\t            if (this.enableRtl) {\n\t                label.classList.add(RTL);\n\t            }\n\t            if (this.cssClass) {\n\t                ej2_base_3.addClass([label], this.cssClass.split(' '));\n\t            }\n\t            if (this.label) {\n\t                this.setText(this.label);\n\t            }\n\t        };\n\t        RadioButton.prototype.keyDownHandler = function () {\n\t            this.isKeyPressed = true;\n\t        };\n\t        RadioButton.prototype.labelRippleHandler = function (e) {\n\t            var ripple = this.getLabel().getElementsByClassName(RIPPLE)[0];\n\t            common_1.rippleMouseHandler(e, ripple);\n\t        };\n\t        RadioButton.prototype.mouseDownHandler = function () {\n\t            this.isKeyPressed = false;\n\t        };\n\t        RadioButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n\t            var label = this.getLabel();\n\t            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n\t                var prop = _a[_i];\n\t                switch (prop) {\n\t                    case 'checked':\n\t                        if (newProp.checked) {\n\t                            this.updateChange(newProp.checked);\n\t                        }\n\t                        this.element.checked = newProp.checked;\n\t                        break;\n\t                    case 'disabled':\n\t                        if (newProp.disabled) {\n\t                            this.setDisabled();\n\t                            this.unWireEvents();\n\t                        }\n\t                        else {\n\t                            this.element.disabled = false;\n\t                            this.wireEvents();\n\t                        }\n\t                        break;\n\t                    case 'cssClass':\n\t                        if (oldProp.cssClass) {\n\t                            label.classList.remove(oldProp.cssClass);\n\t                        }\n\t                        label.classList.add(newProp.cssClass);\n\t                        break;\n\t                    case 'enableRtl':\n\t                        if (newProp.enableRtl) {\n\t                            label.classList.add(RTL);\n\t                        }\n\t                        else {\n\t                            label.classList.remove(RTL);\n\t                        }\n\t                        break;\n\t                    case 'label':\n\t                        this.setText(newProp.label);\n\t                        break;\n\t                    case 'labelPosition':\n\t                        if (newProp.labelPosition === 'before') {\n\t                            label.classList.add('e-right');\n\t                        }\n\t                        else {\n\t                            label.classList.remove('e-right');\n\t                        }\n\t                        break;\n\t                    case 'name':\n\t                        this.element.setAttribute('name', newProp.name);\n\t                        break;\n\t                    case 'value':\n\t                        this.element.setAttribute('value', newProp.value);\n\t                        break;\n\t                }\n\t            }\n\t        };\n\t        RadioButton.prototype.preRender = function () {\n\t            var element = this.element;\n\t            this.tagName = this.element.tagName;\n\t            element = common_1.wrapperInitialize('EJ-RADIOBUTTON', 'radio', element, WRAPPER);\n\t            this.element = element;\n\t            if (this.element.getAttribute('type') !== 'radio') {\n\t                this.element.setAttribute('type', 'radio');\n\t            }\n\t            if (!this.element.id) {\n\t                this.element.id = ej2_base_3.getUniqueID('e-' + this.getModuleName());\n\t            }\n\t        };\n\t        RadioButton.prototype.render = function () {\n\t            this.initialize();\n\t            if (!this.disabled) {\n\t                this.wireEvents();\n\t            }\n\t        };\n\t        RadioButton.prototype.setDisabled = function () {\n\t            this.element.disabled = true;\n\t        };\n\t        RadioButton.prototype.setText = function (text) {\n\t            var label = this.getLabel();\n\t            var textLabel = label.getElementsByClassName(LABEL)[0];\n\t            if (textLabel) {\n\t                textLabel.textContent = text;\n\t            }\n\t            else {\n\t                textLabel = ej2_base_3.createElement('span', { className: LABEL, innerHTML: text });\n\t                label.appendChild(textLabel);\n\t            }\n\t            if (this.labelPosition === 'before') {\n\t                this.getLabel().classList.add('e-right');\n\t            }\n\t            else {\n\t                this.getLabel().classList.remove('e-right');\n\t            }\n\t        };\n\t        RadioButton.prototype.unWireEvents = function () {\n\t            var label = this.getLabel();\n\t            ej2_base_2.EventHandler.remove(this.element, 'change', this.changeHandler);\n\t            ej2_base_2.EventHandler.remove(document, 'keydown', this.keyDownHandler);\n\t            ej2_base_2.EventHandler.remove(label, 'mousedown', this.mouseDownHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focus', this.focusHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n\t            var rippleLabel = label.getElementsByClassName(LABEL)[0];\n\t            if (rippleLabel) {\n\t                ej2_base_2.EventHandler.remove(rippleLabel, 'mousedown', this.labelRippleHandler);\n\t                ej2_base_2.EventHandler.remove(rippleLabel, 'mouseup', this.labelRippleHandler);\n\t            }\n\t        };\n\t        RadioButton.prototype.wireEvents = function () {\n\t            var label = this.getLabel();\n\t            ej2_base_2.EventHandler.add(this.element, 'change', this.changeHandler, this);\n\t            ej2_base_2.EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n\t            ej2_base_2.EventHandler.add(label, 'mousedown', this.mouseDownHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focus', this.focusHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n\t            var rippleLabel = label.getElementsByClassName(LABEL)[0];\n\t            if (rippleLabel) {\n\t                ej2_base_2.EventHandler.add(rippleLabel, 'mousedown', this.labelRippleHandler, this);\n\t                ej2_base_2.EventHandler.add(rippleLabel, 'mouseup', this.labelRippleHandler, this);\n\t            }\n\t        };\n\t        __decorate([\n\t            ej2_base_2.Event()\n\t        ], RadioButton.prototype, \"change\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property(false)\n\t        ], RadioButton.prototype, \"checked\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], RadioButton.prototype, \"cssClass\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property(false)\n\t        ], RadioButton.prototype, \"disabled\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], RadioButton.prototype, \"label\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('after')\n\t        ], RadioButton.prototype, \"labelPosition\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], RadioButton.prototype, \"name\", void 0);\n\t        __decorate([\n\t            ej2_base_1.Property('')\n\t        ], RadioButton.prototype, \"value\", void 0);\n\t        RadioButton = RadioButton_1 = __decorate([\n\t            ej2_base_1.NotifyPropertyChanges\n\t        ], RadioButton);\n\t        return RadioButton;\n\t        var RadioButton_1;\n\t    }(ej2_base_1.Component));\n\t    exports.RadioButton = RadioButton;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBlZTk3YTJhNDZjMTdkNWRlNTYxNCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiIiwid2VicGFjazovLy8uL3NyYy9idXR0b24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2J1dHRvbi9idXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NoZWNrLWJveC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2hlY2stYm94L2NoZWNrLWJveC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmFkaW8tYnV0dG9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9yYWRpby1idXR0b24vcmFkaW8tYnV0dG9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO0FDVkE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztpRUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7Ozs7OztpRUNWRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQWtELGNBQWM7QUFDaEU7QUFDQSxFQUFDOzs7Ozs7O2lFQ1BEO0FBQ0E7QUFDQSxtREFBa0QsY0FBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQSw0REFBMkQsU0FBUyxlQUFlLEVBQUU7QUFDckY7QUFDQTtBQUNBLDZDQUE0QztBQUM1QyxjQUFhO0FBQ2IsaUVBQWdFLGFBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXNDLHNCQUFzQjtBQUM1RCxrQ0FBaUMsY0FBYztBQUMvQyx3REFBdUQsa0NBQWtDO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQStELGtDQUFrQztBQUNqRyxrREFBaUQsc0NBQXNDO0FBQ3ZGO0FBQ0E7QUFDQSwyREFBMEQsK0JBQStCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBOEQsaURBQWlEO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7Ozs7OztBQ3pFRCxnRDs7Ozs7O2lFQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBa0QsY0FBYztBQUNoRTtBQUNBLEVBQUM7Ozs7Ozs7QUNQRDtBQUNBO0FBQ0EsV0FBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLDBCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHdCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFtRCxzQ0FBc0M7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBNkQsMENBQTBDO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF1RCxnQkFBZ0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBOEQsb0NBQW9DO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0EsRUFBQyIsImZpbGUiOiJlajItYnV0dG9ucy51bWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZmFjdG9yeShyZXF1aXJlKFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIikpIDogZmFjdG9yeShyb290W1wiQHN5bmNmdXNpb24vZWoyLWJhc2VcIl0pO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18pIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgZWU5N2EyYTQ2YzE3ZDVkZTU2MTQiLCJkZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCIuL2NvbW1vbi9pbmRleFwiLCBcIi4vYnV0dG9uL2luZGV4XCIsIFwiLi9jaGVjay1ib3gvaW5kZXhcIiwgXCIuL3JhZGlvLWJ1dHRvbi9pbmRleFwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGluZGV4XzEsIGluZGV4XzIsIGluZGV4XzMsIGluZGV4XzQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIF9fZXhwb3J0KGluZGV4XzEpO1xuICAgIF9fZXhwb3J0KGluZGV4XzIpO1xuICAgIF9fZXhwb3J0KGluZGV4XzMpO1xuICAgIF9fZXhwb3J0KGluZGV4XzQpO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJkZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCIuL2NvbW1vblwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGNvbW1vbl8xKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgICAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICBfX2V4cG9ydChjb21tb25fMSk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NvbW1vbi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJkZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgZWoyX2Jhc2VfMSwgZWoyX2Jhc2VfMikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICBmdW5jdGlvbiB3cmFwcGVySW5pdGlhbGl6ZSh0YWcsIHR5cGUsIGVsZW1lbnQsIFdSQVBQRVIpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gdGFnKSB7XG4gICAgICAgICAgICB2YXIgZWpJbnN0YW5jZSA9IGVqMl9iYXNlXzIuZ2V0VmFsdWUoJ2VqMl9pbnN0YW5jZXMnLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IGVqMl9iYXNlXzEuY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGF0dHJzOiB7ICd0eXBlJzogdHlwZSB9IH0pO1xuICAgICAgICAgICAgdmFyIHByb3BzID0gWydjaGFuZ2UnLCAnY3NzQ2xhc3MnLCAnbGFiZWwnLCAnbGFiZWxQb3NpdGlvbiddO1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBlajJfYmFzZV8xLmNyZWF0ZUVsZW1lbnQodGFnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBXUkFQUEVSLCBhdHRyczogeyAncm9sZSc6IHR5cGUsICdhcmlhLWNoZWNrZWQnOiAnZmFsc2UnIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW4gPSBlbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoOyBpbmRleCA8IGxlbjsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wcy5pbmRleE9mKGVsZW1lbnQuYXR0cmlidXRlc1tpbmRleF0ubm9kZU5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoZWxlbWVudC5hdHRyaWJ1dGVzW2luZGV4XS5ub2RlTmFtZSwgZWxlbWVudC5hdHRyaWJ1dGVzW2luZGV4XS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaW5wdXQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5kZXRhY2goZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50ID0gaW5wdXQ7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIGVsZW1lbnQpO1xuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzEuc2V0VmFsdWUoJ2VqMl9pbnN0YW5jZXMnLCBlakluc3RhbmNlLCBlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gICAgZXhwb3J0cy53cmFwcGVySW5pdGlhbGl6ZSA9IHdyYXBwZXJJbml0aWFsaXplO1xuICAgIGZ1bmN0aW9uIGdldFRleHROb2RlKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgIHZhciBjaGlsZG5vZGUgPSBlbGVtZW50LmNoaWxkTm9kZXM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBub2RlID0gY2hpbGRub2RlW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZXhwb3J0cy5nZXRUZXh0Tm9kZSA9IGdldFRleHROb2RlO1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNoZWNrQm94KGVuYWJsZVJpcHBsZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoZW5hYmxlUmlwcGxlID09PSB2b2lkIDApIHsgZW5hYmxlUmlwcGxlID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIHdyYXBwZXIgPSBlajJfYmFzZV8xLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnZS1jaGVja2JveC13cmFwcGVyJyB9KTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY3NzQ2xhc3MpIHtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuYWRkQ2xhc3MoW3dyYXBwZXJdLCBvcHRpb25zLmNzc0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmVuYWJsZVJ0bCkge1xuICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKCdlLXJ0bCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbmFibGVSaXBwbGUpIHtcbiAgICAgICAgICAgIHZhciByaXBwbGVTcGFuID0gZWoyX2Jhc2VfMS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdlLXJpcHBsZS1jb250YWluZXInIH0pO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5yaXBwbGVFZmZlY3QocmlwcGxlU3BhbiwgeyBpc0NlbnRlclJpcHBsZTogdHJ1ZSwgZHVyYXRpb246IDQwMCB9KTtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQocmlwcGxlU3Bhbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZyYW1lU3BhbiA9IGVqMl9iYXNlXzEuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZS1mcmFtZSBlLWljb25zJyB9KTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2hlY2tlZCkge1xuICAgICAgICAgICAgZnJhbWVTcGFuLmNsYXNzTGlzdC5hZGQoJ2UtY2hlY2snKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGZyYW1lU3Bhbik7XG4gICAgICAgIGlmIChvcHRpb25zLmxhYmVsKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWxTcGFuID0gZWoyX2Jhc2VfMS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdlLWxhYmVsJywgaW5uZXJIVE1MOiBvcHRpb25zLmxhYmVsIH0pO1xuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbFNwYW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cbiAgICBleHBvcnRzLmNyZWF0ZUNoZWNrQm94ID0gY3JlYXRlQ2hlY2tCb3g7XG4gICAgZnVuY3Rpb24gcmlwcGxlTW91c2VIYW5kbGVyKGUsIHJpcHBsZVNwYW4pIHtcbiAgICAgICAgaWYgKHJpcHBsZVNwYW4pIHtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XG4gICAgICAgICAgICBldmVudF8xLmluaXRFdmVudChlLnR5cGUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIHJpcHBsZVNwYW4uZGlzcGF0Y2hFdmVudChldmVudF8xKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBleHBvcnRzLnJpcHBsZU1vdXNlSGFuZGxlciA9IHJpcHBsZU1vdXNlSGFuZGxlcjtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY29tbW9uL2NvbW1vbi5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfM19fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIlxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJkZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCIuL2J1dHRvblwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGJ1dHRvbl8xKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgICAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICBfX2V4cG9ydChidXR0b25fMSk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2J1dHRvbi9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIi4uL2NvbW1vbi9jb21tb25cIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBlajJfYmFzZV8xLCBlajJfYmFzZV8yLCBlajJfYmFzZV8zLCBjb21tb25fMSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICB2YXIgY3NzQ2xhc3NOYW1lID0ge1xuICAgICAgICBSVEw6ICdlLXJ0bCcsXG4gICAgICAgIEJVVFRPTjogJ2UtYnRuJyxcbiAgICAgICAgUFJJTUFSWTogJ2UtcHJpbWFyeScsXG4gICAgICAgIElDT05CVE46ICdlLWljb24tYnRuJ1xuICAgIH07XG4gICAgdmFyIEJ1dHRvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhCdXR0b24sIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIEJ1dHRvbihvcHRpb25zLCBlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucywgZWxlbWVudCkgfHwgdGhpcztcbiAgICAgICAgfVxuICAgICAgICBCdXR0b24ucHJvdG90eXBlLnByZVJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgfTtcbiAgICAgICAgQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgQnV0dG9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3NzQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8zLmFkZENsYXNzKFt0aGlzLmVsZW1lbnRdLCB0aGlzLmNzc0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQcmltYXJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3NOYW1lLlBSSU1BUlkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldEljb25Dc3MoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVJ0bCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzTmFtZS5SVEwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xTdGF0dXModGhpcy5kaXNhYmxlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlajJfYmFzZV8yLnJpcHBsZUVmZmVjdCh0aGlzLmVsZW1lbnQsIHsgc2VsZWN0b3I6ICcuJyArIGNzc0NsYXNzTmFtZS5CVVRUT04gfSk7XG4gICAgICAgICAgICB0aGlzLndpcmVFdmVudHMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgQnV0dG9uLnByb3RvdHlwZS5jb250cm9sU3RhdHVzID0gZnVuY3Rpb24gKGRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgfTtcbiAgICAgICAgQnV0dG9uLnByb3RvdHlwZS5zZXRJY29uQ3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaWNvbkNzcykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5lbGVtZW50LnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzTmFtZS5JQ09OQlROKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHNwYW4gPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2UtYnRuLWljb24gJyArIHRoaXMuaWNvbkNzcyB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZWxlbWVudC5jaGlsZE5vZGVzWzBdO1xuICAgICAgICAgICAgICAgIGlmIChub2RlICYmIHRoaXMuaWNvblBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZShzcGFuLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdlLWljb24tbGVmdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pY29uUG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnZS1pY29uLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUud2lyZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVG9nZ2xlKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5idG5DbGlja0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLnVuV2lyZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVG9nZ2xlKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKHRoaXMuZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5idG5DbGlja0hhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLmJ0bkNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2UtYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZS1hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQnV0dG9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNwYW47XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMy5yZW1vdmVDbGFzcyhbdGhpcy5lbGVtZW50XSwgW2Nzc0NsYXNzTmFtZS5QUklNQVJZLCBjc3NDbGFzc05hbWUuUlRMLCBjc3NDbGFzc05hbWUuSUNPTkJUTiwgJ2Utc3VjY2VzcycsXG4gICAgICAgICAgICAgICAgJ2UtaW5mbycsICdlLWRhbmdlcicsICdlLXdhcm5pbmcnLCAnZS1mbGF0JywgJ2Utb3V0bGluZScsICdlLXNtYWxsJywgJ2UtYmlnZ2VyJywgJ2UtYWN0aXZlJywgJ2Utcm91bmQnXSk7XG4gICAgICAgICAgICBbJ2UtcmlwcGxlJywgJ2Rpc2FibGVkJ10uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IGVsZW1lbnQuaW5uZXJIVE1MLnJlcGxhY2UodGhpcy5jb250ZW50LCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcGFuID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuLmUtYnRuLWljb24nKTtcbiAgICAgICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5kZXRhY2goc3Bhbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuV2lyZUV2ZW50cygpO1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLmdldE1vZHVsZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2J0bic7XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUuZ2V0UGVyc2lzdERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRPblBlcnNpc3QoW10pO1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLm9uUHJvcGVydHlDaGFuZ2VkID0gZnVuY3Rpb24gKG5ld1Byb3AsIG9sZFByb3ApIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhuZXdQcm9wKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaXNQcmltYXJ5JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmlzUHJpbWFyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzTmFtZS5QUklNQVJZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzTmFtZS5QUklNQVJZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNhYmxlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xTdGF0dXModGhpcy5kaXNhYmxlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaWNvbkNzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuLmUtYnRuLWljb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSAnZS1idG4taWNvbiAnICsgdGhpcy5pY29uQ3NzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaWNvblBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnZS1pY29uLWxlZnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnZS1pY29uLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEljb25Dc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpY29uUG9zaXRpb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhbiA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuLmUtYnRuLWljb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5kZXRhY2goc3Bhbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEljb25Dc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjc3NDbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcC5jc3NDbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMucmVtb3ZlQ2xhc3MoW3RoaXMuZWxlbWVudF0sIG9sZFByb3AuY3NzQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlajJfYmFzZV8zLmFkZENsYXNzKFt0aGlzLmVsZW1lbnRdLCBuZXdQcm9wLmNzc0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VuYWJsZVJ0bCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5lbmFibGVSdGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzc05hbWUuUlRMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzTmFtZS5SVEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBjb21tb25fMS5nZXRUZXh0Tm9kZSh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gbmV3UHJvcC5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IG5ld1Byb3AuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjc3NDbGFzc05hbWUuSUNPTkJUTik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJY29uQ3NzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaXNUb2dnbGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuaXNUb2dnbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmJ0bkNsaWNrSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmJ0bkNsaWNrSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5yZW1vdmVDbGFzcyhbdGhpcy5lbGVtZW50XSwgWydlLWFjdGl2ZSddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCdsZWZ0JylcbiAgICAgICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJpY29uUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICAgICAgX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgICAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImljb25Dc3NcIiwgdm9pZCAwKTtcbiAgICAgICAgX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KGZhbHNlKVxuICAgICAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICAgICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJpc1ByaW1hcnlcIiwgdm9pZCAwKTtcbiAgICAgICAgX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgICAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImNzc0NsYXNzXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICAgICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICAgICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJpc1RvZ2dsZVwiLCB2b2lkIDApO1xuICAgICAgICBCdXR0b24gPSBfX2RlY29yYXRlKFtcbiAgICAgICAgICAgIGVqMl9iYXNlXzEuTm90aWZ5UHJvcGVydHlDaGFuZ2VzXG4gICAgICAgIF0sIEJ1dHRvbik7XG4gICAgICAgIHJldHVybiBCdXR0b247XG4gICAgfShlajJfYmFzZV8xLkNvbXBvbmVudCkpO1xuICAgIGV4cG9ydHMuQnV0dG9uID0gQnV0dG9uO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9idXR0b24vYnV0dG9uLmpzXG4vLyBtb2R1bGUgaWQgPSA1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcIi4vY2hlY2stYm94XCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgY2hlY2tfYm94XzEpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIF9fZXhwb3J0KGNoZWNrX2JveF8xKTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvY2hlY2stYm94L2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiLi8uLi9jb21tb24vY29tbW9uXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgZWoyX2Jhc2VfMSwgZWoyX2Jhc2VfMiwgZWoyX2Jhc2VfMywgY29tbW9uXzEpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgdmFyIENIRUNLID0gJ2UtY2hlY2snO1xuICAgIHZhciBESVNBQkxFRCA9ICdlLWNoZWNrYm94LWRpc2FibGVkJztcbiAgICB2YXIgRlJBTUUgPSAnZS1mcmFtZSc7XG4gICAgdmFyIElOREVURVJNSU5BVEUgPSAnZS1zdG9wJztcbiAgICB2YXIgTEFCRUwgPSAnZS1sYWJlbCc7XG4gICAgdmFyIFJJUFBMRSA9ICdlLXJpcHBsZS1jb250YWluZXInO1xuICAgIHZhciBSSVBQTEVDSEVDSyA9ICdlLXJpcHBsZS1jaGVjayc7XG4gICAgdmFyIFJJUFBMRUlOREVURVJNSU5BVEUgPSAnZS1yaXBwbGUtc3RvcCc7XG4gICAgdmFyIFJUTCA9ICdlLXJ0bCc7XG4gICAgdmFyIFdSQVBQRVIgPSAnZS1jaGVja2JveC13cmFwcGVyJztcbiAgICB2YXIgQ2hlY2tCb3ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoQ2hlY2tCb3gsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIENoZWNrQm94KG9wdGlvbnMsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMsIGVsZW1lbnQpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5pc0tleVByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuY2hhbmdlU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBhcmlhU3RhdGU7XG4gICAgICAgICAgICB2YXIgcmlwcGxlU3BhbjtcbiAgICAgICAgICAgIHZhciBmcmFtZVNwYW4gPSB0aGlzLmdldFdyYXBwZXIoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKEZSQU1FKVswXTtcbiAgICAgICAgICAgIGlmIChlajJfYmFzZV8zLmlzUmlwcGxlRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJpcHBsZVNwYW4gPSB0aGlzLmdldFdyYXBwZXIoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFJJUFBMRSlbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09ICdjaGVjaycpIHtcbiAgICAgICAgICAgICAgICBmcmFtZVNwYW4uY2xhc3NMaXN0LnJlbW92ZShJTkRFVEVSTUlOQVRFKTtcbiAgICAgICAgICAgICAgICBmcmFtZVNwYW4uY2xhc3NMaXN0LmFkZChDSEVDSyk7XG4gICAgICAgICAgICAgICAgaWYgKHJpcHBsZVNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmlwcGxlU3Bhbi5jbGFzc0xpc3QucmVtb3ZlKFJJUFBMRUlOREVURVJNSU5BVEUpO1xuICAgICAgICAgICAgICAgICAgICByaXBwbGVTcGFuLmNsYXNzTGlzdC5hZGQoUklQUExFQ0hFQ0spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmlhU3RhdGUgPSAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUgPT09ICd1bmNoZWNrJykge1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMucmVtb3ZlQ2xhc3MoW2ZyYW1lU3Bhbl0sIFtDSEVDSywgSU5ERVRFUk1JTkFURV0pO1xuICAgICAgICAgICAgICAgIGlmIChyaXBwbGVTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMucmVtb3ZlQ2xhc3MoW3JpcHBsZVNwYW5dLCBbUklQUExFQ0hFQ0ssIFJJUFBMRUlOREVURVJNSU5BVEVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJpYVN0YXRlID0gJ2ZhbHNlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJhbWVTcGFuLmNsYXNzTGlzdC5yZW1vdmUoQ0hFQ0spO1xuICAgICAgICAgICAgICAgIGZyYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKElOREVURVJNSU5BVEUpO1xuICAgICAgICAgICAgICAgIGlmIChyaXBwbGVTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJpcHBsZVNwYW4uY2xhc3NMaXN0LnJlbW92ZShSSVBQTEVDSEVDSyk7XG4gICAgICAgICAgICAgICAgICAgIHJpcHBsZVNwYW4uY2xhc3NMaXN0LmFkZChSSVBQTEVJTkRFVEVSTUlOQVRFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJpYVN0YXRlID0gJ21peGVkJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5kZXRlcm1pbmF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmdldFdyYXBwZXIoKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY2hlY2tlZCcsIGFyaWFTdGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5jbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZm9jdXNPdXRIYW5kbGVyKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSh0aGlzLmNoZWNrZWQgPyAnY2hlY2snIDogJ3VuY2hlY2snKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5kZXRlcm1pbmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSgndW5jaGVjaycpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSgnY2hlY2snKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYW5nZUV2ZW50QXJncyA9IHsgY2hlY2tlZDogdGhpcy5lbGVtZW50LmNoZWNrZWQsIGV2ZW50OiBldmVudCB9O1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2UnLCBjaGFuZ2VFdmVudEFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IHRoaXMuZ2V0V3JhcHBlcigpO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuV2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgICAgICAgICAgIHdyYXBwZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50LCB3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8zLmRldGFjaCh3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmluZGV0ZXJtaW5hdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgWyduYW1lJywgJ3ZhbHVlJywgJ2Rpc2FibGVkJ10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBbJ3JvbGUnLCAnYXJpYS1jaGVja2VkJywgJ2NsYXNzJ10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5pZCkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnaWQnLCB0aGlzLmVsZW1lbnQuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZm9jdXNIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNLZXlQcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRXcmFwcGVyKCkuY2xhc3NMaXN0LmFkZCgnZS1mb2N1cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZm9jdXNPdXRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5nZXRXcmFwcGVyKCkuY2xhc3NMaXN0LnJlbW92ZSgnZS1mb2N1cycpO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZ2V0TW9kdWxlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnY2hlY2tib3gnO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZ2V0UGVyc2lzdERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRPblBlcnNpc3QoWydjaGVja2VkJywgJ2luZGV0ZXJtaW5hdGUnXSk7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5nZXRXcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoJ2NoZWNrJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldERpc2FibGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5pbml0V3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXdyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFdSQVBQRVIpKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlciA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFdSQVBQRVIsIGF0dHJzOiB7ICdyb2xlJzogJ2NoZWNrYm94JywgJ2FyaWEtY2hlY2tlZCc6ICdmYWxzZScgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxhYmVsID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiB0aGlzLmVsZW1lbnQuaWQgfSB9KTtcbiAgICAgICAgICAgIHZhciBmcmFtZVNwYW4gPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2UtaWNvbnMgJyArIEZSQU1FIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUnRsKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKFJUTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jc3NDbGFzcykge1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuYWRkQ2xhc3MoW3dyYXBwZXJdLCB0aGlzLmNzc0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoZnJhbWVTcGFuKTtcbiAgICAgICAgICAgIGlmIChlajJfYmFzZV8zLmlzUmlwcGxlRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHZhciByaXBwbGVTcGFuID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IFJJUFBMRSB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sYWJlbFBvc2l0aW9uID09PSAnYmVmb3JlJykge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChyaXBwbGVTcGFuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLmluc2VydEJlZm9yZShyaXBwbGVTcGFuLCBmcmFtZVNwYW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlajJfYmFzZV8zLnJpcHBsZUVmZmVjdChyaXBwbGVTcGFuLCB7IGR1cmF0aW9uOiA0MDAsIGlzQ2VudGVyUmlwcGxlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRleHQodGhpcy5sYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5rZXlBY3Rpb25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmFjdGlvbiA9PT0gJ3NwYWNlJykge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrSGFuZGxlcihlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzSGFuZGxlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUua2V5RG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmlzS2V5UHJlc3NlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5sYWJlbE1vdXNlSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgcmlwcGxlU3BhbiA9IHRoaXMuZ2V0V3JhcHBlcigpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoUklQUExFKVswXTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnJpcHBsZU1vdXNlSGFuZGxlcihlLCByaXBwbGVTcGFuKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLm1vdXNlRG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmlzS2V5UHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUub25Qcm9wZXJ0eUNoYW5nZWQgPSBmdW5jdGlvbiAobmV3UHJvcCwgb2xkUHJvcCkge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLmdldFdyYXBwZXIoKTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhuZXdQcm9wKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IF9hW19pXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKG5ld1Byb3AuY2hlY2tlZCA/ICdjaGVjaycgOiAndW5jaGVjaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2luZGV0ZXJtaW5hdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuaW5kZXRlcm1pbmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSh0aGlzLmNoZWNrZWQgPyAnY2hlY2snIDogJ3VuY2hlY2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNhYmxlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuV2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKERJU0FCTEVEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Nzc0NsYXNzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRQcm9wLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKG9sZFByb3AuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKG5ld1Byb3AuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2VuYWJsZVJ0bCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5lbmFibGVSdGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoUlRMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShSVEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xhYmVsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChuZXdQcm9wLmxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdsYWJlbFBvc2l0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHdyYXBwZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShMQUJFTClbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWxXcmFwID0gd3JhcHBlci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGFiZWwnKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuZGV0YWNoKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmxhYmVsUG9zaXRpb24gPT09ICdhZnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFdyYXAuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxXcmFwLmluc2VydEJlZm9yZShsYWJlbCwgd3JhcHBlci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKEZSQU1FKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCduYW1lJywgbmV3UHJvcC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd2YWx1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIG5ld1Byb3AudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLnRhZ05hbWUgPSB0aGlzLmVsZW1lbnQudGFnTmFtZTtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBjb21tb25fMS53cmFwcGVySW5pdGlhbGl6ZSgnRUotQ0hFQ0tCT1gnLCAnY2hlY2tib3gnLCBlbGVtZW50LCBXUkFQUEVSKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpICE9PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdjaGVja2JveCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQuaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaWQgPSBlajJfYmFzZV8zLmdldFVuaXF1ZUlEKCdlLScgKyB0aGlzLmdldE1vZHVsZU5hbWUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRXcmFwcGVyKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMud2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuc2V0RGlzYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IHRoaXMuZ2V0V3JhcHBlcigpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZChESVNBQkxFRCk7XG4gICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0V3JhcHBlcigpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTEFCRUwpWzBdO1xuICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFiZWwgPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogTEFCRUwsIGlubmVySFRNTDogdGV4dCB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbGFiZWxXcmFwID0gdGhpcy5nZXRXcmFwcGVyKCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xhYmVsJylbMF07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGFiZWxQb3NpdGlvbiA9PT0gJ2JlZm9yZScpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxXcmFwLmluc2VydEJlZm9yZShsYWJlbCwgdGhpcy5nZXRXcmFwcGVyKCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShGUkFNRSlbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxXcmFwLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS51bldpcmVFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IHRoaXMuZ2V0V3JhcHBlcigpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKHRoaXMuZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5jbGlja0hhbmRsZXIpO1xuICAgICAgICAgICAgdGhpcy5rZXlib2FyZE1vZHVsZS5kZXN0cm95KCk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlEb3duSGFuZGxlcik7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUod3JhcHBlciwgJ21vdXNlZG93bicsIHRoaXMubW91c2VEb3duSGFuZGxlcik7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnZm9jdXMnLCB0aGlzLmZvY3VzSGFuZGxlcik7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnZm9jdXNvdXQnLCB0aGlzLmZvY3VzT3V0SGFuZGxlcik7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB3cmFwcGVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsYWJlbCcpWzBdO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKGxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5sYWJlbE1vdXNlSGFuZGxlcik7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUobGFiZWwsICdtb3VzZXVwJywgdGhpcy5sYWJlbE1vdXNlSGFuZGxlcik7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS53aXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLmdldFdyYXBwZXIoKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMua2V5Ym9hcmRNb2R1bGUgPSBuZXcgZWoyX2Jhc2VfMi5LZXlib2FyZEV2ZW50cyh3cmFwcGVyLCB7XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lOiAna2V5dXAnLFxuICAgICAgICAgICAgICAgIGtleUFjdGlvbjogdGhpcy5rZXlBY3Rpb25IYW5kbGVyLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAga2V5Q29uZmlnczogeyBzcGFjZTogJ3NwYWNlJyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZChkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmtleURvd25IYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh3cmFwcGVyLCAnbW91c2Vkb3duJywgdGhpcy5tb3VzZURvd25IYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdmb2N1c291dCcsIHRoaXMuZm9jdXNPdXRIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHdyYXBwZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xhYmVsJylbMF07XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQobGFiZWwsICdtb3VzZWRvd24nLCB0aGlzLmxhYmVsTW91c2VIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZChsYWJlbCwgJ21vdXNldXAnLCB0aGlzLmxhYmVsTW91c2VIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50KClcbiAgICAgICAgXSwgQ2hlY2tCb3gucHJvdG90eXBlLCBcImNoYW5nZVwiLCB2b2lkIDApO1xuICAgICAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoZmFsc2UpXG4gICAgICAgIF0sIENoZWNrQm94LnByb3RvdHlwZSwgXCJjaGVja2VkXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICAgICAgXSwgQ2hlY2tCb3gucHJvdG90eXBlLCBcImNzc0NsYXNzXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICAgICAgXSwgQ2hlY2tCb3gucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICAgICAgXSwgQ2hlY2tCb3gucHJvdG90eXBlLCBcImluZGV0ZXJtaW5hdGVcIiwgdm9pZCAwKTtcbiAgICAgICAgX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgICAgICBdLCBDaGVja0JveC5wcm90b3R5cGUsIFwibGFiZWxcIiwgdm9pZCAwKTtcbiAgICAgICAgX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCdhZnRlcicpXG4gICAgICAgIF0sIENoZWNrQm94LnByb3RvdHlwZSwgXCJsYWJlbFBvc2l0aW9uXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICAgICAgXSwgQ2hlY2tCb3gucHJvdG90eXBlLCBcIm5hbWVcIiwgdm9pZCAwKTtcbiAgICAgICAgX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgICAgICBdLCBDaGVja0JveC5wcm90b3R5cGUsIFwidmFsdWVcIiwgdm9pZCAwKTtcbiAgICAgICAgQ2hlY2tCb3ggPSBfX2RlY29yYXRlKFtcbiAgICAgICAgICAgIGVqMl9iYXNlXzEuTm90aWZ5UHJvcGVydHlDaGFuZ2VzXG4gICAgICAgIF0sIENoZWNrQm94KTtcbiAgICAgICAgcmV0dXJuIENoZWNrQm94O1xuICAgIH0oZWoyX2Jhc2VfMS5Db21wb25lbnQpKTtcbiAgICBleHBvcnRzLkNoZWNrQm94ID0gQ2hlY2tCb3g7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NoZWNrLWJveC9jaGVjay1ib3guanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiLi9yYWRpby1idXR0b25cIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCByYWRpb19idXR0b25fMSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgX19leHBvcnQocmFkaW9fYnV0dG9uXzEpO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9yYWRpby1idXR0b24vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5kZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCIuLy4uL2NvbW1vbi9jb21tb25cIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBlajJfYmFzZV8xLCBlajJfYmFzZV8yLCBlajJfYmFzZV8zLCBjb21tb25fMSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICB2YXIgTEFCRUwgPSAnZS1sYWJlbCc7XG4gICAgdmFyIFJJUFBMRSA9ICdlLXJpcHBsZS1jb250YWluZXInO1xuICAgIHZhciBSVEwgPSAnZS1ydGwnO1xuICAgIHZhciBXUkFQUEVSID0gJ2UtcmFkaW8td3JhcHBlcic7XG4gICAgdmFyIFJhZGlvQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKFJhZGlvQnV0dG9uLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBSYWRpb0J1dHRvbihvcHRpb25zLCBlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLCBlbGVtZW50KSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMuaXNLZXlQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgUmFkaW9CdXR0b25fMSA9IFJhZGlvQnV0dG9uO1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuY2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUJpbmQoKTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VFdmVudEFyZ3MgPSB7IHZhbHVlOiB0aGlzLnZhbHVlLCBldmVudDogZXZlbnQgfTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJywgY2hhbmdlRXZlbnRBcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnVwZGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgdmFyIGlucHV0O1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgICAgICB2YXIgcmFkaW9HcnAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dC5lLXJhZGlvW25hbWU9XCInICsgbmFtZSArICdcIl0nKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaW9HcnAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IHJhZGlvR3JwW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dCAhPT0gdGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuZ2V0SW5zdGFuY2UoaW5wdXQsIFJhZGlvQnV0dG9uXzEpLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciByYWRpb1dyYXAgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bldpcmVFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgICAgICAgICByYWRpb1dyYXAucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50LCByYWRpb1dyYXApO1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuZGV0YWNoKHJhZGlvV3JhcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBbJ25hbWUnLCAndmFsdWUnLCAnZGlzYWJsZWQnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIFsncm9sZScsICdhcmlhLWNoZWNrZWQnLCAnY2xhc3MnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaW9XcmFwLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaW9XcmFwLnNldEF0dHJpYnV0ZSgnaWQnLCB0aGlzLmVsZW1lbnQuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByYWRpb1dyYXAuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5mb2N1c0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0tleVByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldExhYmVsKCkuY2xhc3NMaXN0LmFkZCgnZS1mb2N1cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuZm9jdXNPdXRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5nZXRMYWJlbCgpLmNsYXNzTGlzdC5yZW1vdmUoJ2UtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmdldE1vZHVsZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3JhZGlvJztcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmdldFBlcnNpc3REYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkT25QZXJzaXN0KFsnY2hlY2tlZCddKTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmdldExhYmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pbml0V3JhcHBlcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMubmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXREaXNhYmxlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuaW5pdFdyYXBwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmlwcGxlU3BhbjtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXdyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFdSQVBQRVIpKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlciA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IFdSQVBQRVIgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJywgeyBhdHRyczogeyBmb3I6IHRoaXMuZWxlbWVudC5pZCB9IH0pO1xuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBpZiAoZWoyX2Jhc2VfMy5pc1JpcHBsZUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICByaXBwbGVTcGFuID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IChSSVBQTEUpIH0pO1xuICAgICAgICAgICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKHJpcHBsZVNwYW4pO1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzEucmlwcGxlRWZmZWN0KHJpcHBsZVNwYW4sIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDQwMCxcbiAgICAgICAgICAgICAgICAgICAgaXNDZW50ZXJSaXBwbGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVJ0bCkge1xuICAgICAgICAgICAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoUlRMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5hZGRDbGFzcyhbbGFiZWxdLCB0aGlzLmNzc0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGFiZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRleHQodGhpcy5sYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5rZXlEb3duSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNLZXlQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmxhYmVsUmlwcGxlSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgcmlwcGxlID0gdGhpcy5nZXRMYWJlbCgpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoUklQUExFKVswXTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnJpcHBsZU1vdXNlSGFuZGxlcihlLCByaXBwbGUpO1xuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUubW91c2VEb3duSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNLZXlQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5vblByb3BlcnR5Q2hhbmdlZCA9IGZ1bmN0aW9uIChuZXdQcm9wLCBvbGRQcm9wKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmdldExhYmVsKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMobmV3UHJvcCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2hhbmdlKG5ld1Byb3AuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IG5ld1Byb3AuY2hlY2tlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNhYmxlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuV2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aXJlRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY3NzQ2xhc3MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFByb3AuY3NzQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKG9sZFByb3AuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZChuZXdQcm9wLmNzc0NsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVSdGwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuZW5hYmxlUnRsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZChSVEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LnJlbW92ZShSVEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xhYmVsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChuZXdQcm9wLmxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdsYWJlbFBvc2l0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmxhYmVsUG9zaXRpb24gPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnZS1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LnJlbW92ZSgnZS1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnbmFtZScsIG5ld1Byb3AubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndmFsdWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBuZXdQcm9wLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnByZVJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgdGhpcy50YWdOYW1lID0gdGhpcy5lbGVtZW50LnRhZ05hbWU7XG4gICAgICAgICAgICBlbGVtZW50ID0gY29tbW9uXzEud3JhcHBlckluaXRpYWxpemUoJ0VKLVJBRElPQlVUVE9OJywgJ3JhZGlvJywgZWxlbWVudCwgV1JBUFBFUik7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSAhPT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncmFkaW8nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5lbGVtZW50LmlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlkID0gZWoyX2Jhc2VfMy5nZXRVbmlxdWVJRCgnZS0nICsgdGhpcy5nZXRNb2R1bGVOYW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpcmVFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnNldERpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5nZXRMYWJlbCgpO1xuICAgICAgICAgICAgdmFyIHRleHRMYWJlbCA9IGxhYmVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTEFCRUwpWzBdO1xuICAgICAgICAgICAgaWYgKHRleHRMYWJlbCkge1xuICAgICAgICAgICAgICAgIHRleHRMYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0TGFiZWwgPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogTEFCRUwsIGlubmVySFRNTDogdGV4dCB9KTtcbiAgICAgICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZCh0ZXh0TGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGFiZWxQb3NpdGlvbiA9PT0gJ2JlZm9yZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldExhYmVsKCkuY2xhc3NMaXN0LmFkZCgnZS1yaWdodCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMYWJlbCgpLmNsYXNzTGlzdC5yZW1vdmUoJ2UtcmlnaHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnVuV2lyZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0TGFiZWwoKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdjaGFuZ2UnLCB0aGlzLmNoYW5nZUhhbmRsZXIpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMua2V5RG93bkhhbmRsZXIpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKGxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5tb3VzZURvd25IYW5kbGVyKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdmb2N1c291dCcsIHRoaXMuZm9jdXNPdXRIYW5kbGVyKTtcbiAgICAgICAgICAgIHZhciByaXBwbGVMYWJlbCA9IGxhYmVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTEFCRUwpWzBdO1xuICAgICAgICAgICAgaWYgKHJpcHBsZUxhYmVsKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKHJpcHBsZUxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5sYWJlbFJpcHBsZUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZShyaXBwbGVMYWJlbCwgJ21vdXNldXAnLCB0aGlzLmxhYmVsUmlwcGxlSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS53aXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5nZXRMYWJlbCgpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2NoYW5nZScsIHRoaXMuY2hhbmdlSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlEb3duSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQobGFiZWwsICdtb3VzZWRvd24nLCB0aGlzLm1vdXNlRG93bkhhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2ZvY3VzJywgdGhpcy5mb2N1c0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2ZvY3Vzb3V0JywgdGhpcy5mb2N1c091dEhhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgdmFyIHJpcHBsZUxhYmVsID0gbGFiZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShMQUJFTClbMF07XG4gICAgICAgICAgICBpZiAocmlwcGxlTGFiZWwpIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQocmlwcGxlTGFiZWwsICdtb3VzZWRvd24nLCB0aGlzLmxhYmVsUmlwcGxlSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHJpcHBsZUxhYmVsLCAnbW91c2V1cCcsIHRoaXMubGFiZWxSaXBwbGVIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX19kZWNvcmF0ZShbXG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50KClcbiAgICAgICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcImNoYW5nZVwiLCB2b2lkIDApO1xuICAgICAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoZmFsc2UpXG4gICAgICAgIF0sIFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJjaGVja2VkXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICAgICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcImNzc0NsYXNzXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICAgICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICAgICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcImxhYmVsXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnYWZ0ZXInKVxuICAgICAgICBdLCBSYWRpb0J1dHRvbi5wcm90b3R5cGUsIFwibGFiZWxQb3NpdGlvblwiLCB2b2lkIDApO1xuICAgICAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJycpXG4gICAgICAgIF0sIFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG4gICAgICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICAgICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcInZhbHVlXCIsIHZvaWQgMCk7XG4gICAgICAgIFJhZGlvQnV0dG9uID0gUmFkaW9CdXR0b25fMSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICAgICAgZWoyX2Jhc2VfMS5Ob3RpZnlQcm9wZXJ0eUNoYW5nZXNcbiAgICAgICAgXSwgUmFkaW9CdXR0b24pO1xuICAgICAgICByZXR1cm4gUmFkaW9CdXR0b247XG4gICAgICAgIHZhciBSYWRpb0J1dHRvbl8xO1xuICAgIH0oZWoyX2Jhc2VfMS5Db21wb25lbnQpKTtcbiAgICBleHBvcnRzLlJhZGlvQnV0dG9uID0gUmFkaW9CdXR0b247XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3JhZGlvLWJ1dHRvbi9yYWRpby1idXR0b24uanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ=="]}