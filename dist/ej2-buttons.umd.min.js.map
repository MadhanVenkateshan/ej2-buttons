/*!
*  filename: ej2-buttons.umd.min.js.map
*  version : 1.0.19
*  Copyright Syncfusion Inc. 2001 - 2017. All rights reserved.
*  Use of this code is subject to the terms of our license.
*  A copy of the current license can be obtained at any time by e-mailing
*  licensing@syncfusion.com. Any infringement will be prosecuted under
*  applicable laws. 
*/

{"version":3,"sources":["ej2-buttons.umd.js"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_3__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","index_1","index_2","index_3","index_4","__export","hasOwnProperty","Object","defineProperty","value","apply","common_1","ej2_base_1","ej2_base_2","wrapperInitialize","tag","type","element","WRAPPER","tagName","ejInstance","getValue","input","createElement","attrs","props","wrapper","className","role","aria-checked","index","len","attributes","length","indexOf","nodeName","setAttribute","nodeValue","parentNode","insertBefore","detach","appendChild","setValue","getTextNode","node","childnode","childNodes","nodeType","createCheckBox","frameSpan","rippleSpan","rippleEffect","isCenterRipple","duration","button_1","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","__","constructor","prototype","create","__decorate","decorators","target","key","desc","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","ej2_base_3","cssClassName","RTL","BUTTON","PRIMARY","ICONBTN","Button","_super","options","preRender","render","initialize","cssClass","addClass","split","isPrimary","classList","add","content","innerHTML","setIconCss","enableRtl","disabled","controlStatus","selector","wireEvents","iconCss","textContent","span","iconPosition","isToggle","EventHandler","btnClickHandler","unWireEvents","remove","contains","destroy","removeClass","forEach","removeAttribute","replace","querySelector","getModuleName","getPersistData","addOnPersist","onPropertyChanged","newProp","oldProp","_i","_a","keys","Component","Property","NotifyPropertyChanges","buttonBuilder","CreateBuilder","check_box_1","ej2_base_4","CheckBox","_this","isKeyPressed","changeState","state","ariaState","getWrapper","getElementsByClassName","checked","indeterminate","clickHandler","event","focusOutHandler","changeEventArgs","trigger","name","focusHandler","parentElement","setDisabled","initWrapper","label","for","isRippleEnabled","setText","keyActionHandler","e","action","preventDefault","keyDownHandler","labelMouseHandler","event_1","document","createEvent","initEvent","dispatchEvent","mouseDownHandler","labelWrap","getElementsByTagName","labelPosition","ejInst","getAttribute","getUniqueID","text","keyboardModule","KeyboardEvents","eventName","keyAction","bind","keyConfigs","space","Event","checkBoxBuilder","radio_button_1","RadioButton","changeHandler","updateChange","radioGrp","querySelectorAll","ej2_instances","getLabel","nextElementSibling","labelRippleHandler","ripple","textLabel","rippleLabel","radioButtonBuilder"],"mappings":"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","file":"ej2-buttons.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@syncfusion/ej2-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@syncfusion/ej2-base\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"@syncfusion/ej2-base\")) : factory(root[\"@syncfusion/ej2-base\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(1), __webpack_require__(4), __webpack_require__(6), __webpack_require__(8)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, index_1, index_2, index_3, index_4) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(index_1);\n\t    __export(index_2);\n\t    __export(index_3);\n\t    __export(index_4);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, common_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(common_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    function wrapperInitialize(tag, type, element, WRAPPER) {\n\t        if (element.tagName === tag) {\n\t            var ejInstance = ej2_base_2.getValue('ej2_instances', element);\n\t            var input = ej2_base_1.createElement('input', { attrs: { 'type': type } });\n\t            var props = ['change', 'cssClass', 'label', 'labelPosition'];\n\t            var wrapper = ej2_base_1.createElement(tag, {\n\t                className: WRAPPER, attrs: { 'role': type, 'aria-checked': 'false' }\n\t            });\n\t            for (var index = 0, len = element.attributes.length; index < len; index++) {\n\t                if (props.indexOf(element.attributes[index].nodeName) === -1) {\n\t                    input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n\t                }\n\t            }\n\t            element.parentNode.insertBefore(input, element);\n\t            ej2_base_1.detach(element);\n\t            element = input;\n\t            element.parentNode.insertBefore(wrapper, element);\n\t            wrapper.appendChild(element);\n\t            ej2_base_2.setValue('ej2_instances', ejInstance, element);\n\t        }\n\t        return element;\n\t    }\n\t    exports.wrapperInitialize = wrapperInitialize;\n\t    function getTextNode(element) {\n\t        var node;\n\t        var childnode = element.childNodes;\n\t        for (var i = 0; i < childnode.length; i++) {\n\t            node = childnode[i];\n\t            if (node.nodeType === 3) {\n\t                return node;\n\t            }\n\t        }\n\t        return null;\n\t    }\n\t    exports.getTextNode = getTextNode;\n\t    function createCheckBox() {\n\t        var wrapper = ej2_base_1.createElement('div', { className: 'e-checkbox-wrapper' });\n\t        var frameSpan = ej2_base_1.createElement('span', { className: 'e-frame e-icons' });\n\t        var rippleSpan = ej2_base_1.createElement('span', { className: 'e-ripple-container' });\n\t        ej2_base_1.rippleEffect(rippleSpan, { isCenterRipple: true, duration: 400 });\n\t        frameSpan.appendChild(rippleSpan);\n\t        wrapper.appendChild(frameSpan);\n\t        return wrapper;\n\t    }\n\t    exports.createCheckBox = createCheckBox;\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(5)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, button_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(button_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2, ej2_base_3, common_1) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var cssClassName = {\n\t        RTL: 'e-rtl',\n\t        BUTTON: 'e-btn',\n\t        PRIMARY: 'e-primary',\n\t        ICONBTN: 'e-icon-btn'\n\t    };\n\t    var Button = (function (_super) {\n\t        __extends(Button, _super);\n\t        function Button(options, element) {\n\t            return _super.call(this, options, element) || this;\n\t        }\n\t        Button.prototype.preRender = function () {\n\t        };\n\t        Button.prototype.render = function () {\n\t            this.initialize();\n\t        };\n\t        Button.prototype.initialize = function () {\n\t            if (this.cssClass) {\n\t                ej2_base_3.addClass([this.element], this.cssClass.split(' '));\n\t            }\n\t            if (this.isPrimary) {\n\t                this.element.classList.add(cssClassName.PRIMARY);\n\t            }\n\t            if (this.content) {\n\t                this.element.innerHTML = this.content;\n\t            }\n\t            this.setIconCss();\n\t            if (this.enableRtl) {\n\t                this.element.classList.add(cssClassName.RTL);\n\t            }\n\t            if (this.disabled) {\n\t                this.controlStatus(this.disabled);\n\t            }\n\t            ej2_base_2.rippleEffect(this.element, { selector: '.' + cssClassName.BUTTON });\n\t            this.wireEvents();\n\t        };\n\t        Button.prototype.controlStatus = function (disabled) {\n\t            this.element.disabled = disabled;\n\t        };\n\t        Button.prototype.setIconCss = function () {\n\t            if (this.iconCss) {\n\t                if (!this.element.textContent) {\n\t                    this.element.classList.add(cssClassName.ICONBTN);\n\t                }\n\t                var span = ej2_base_3.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n\t                var node = this.element.childNodes[0];\n\t                if (node && this.iconPosition === 'left') {\n\t                    this.element.insertBefore(span, node);\n\t                    span.classList.add('e-icon-left');\n\t                }\n\t                else {\n\t                    this.element.appendChild(span);\n\t                    if (this.iconPosition === 'right') {\n\t                        span.classList.add('e-icon-right');\n\t                    }\n\t                }\n\t            }\n\t        };\n\t        Button.prototype.wireEvents = function () {\n\t            if (this.isToggle) {\n\t                ej2_base_2.EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n\t            }\n\t        };\n\t        Button.prototype.unWireEvents = function () {\n\t            if (this.isToggle) {\n\t                ej2_base_2.EventHandler.remove(this.element, 'click', this.btnClickHandler);\n\t            }\n\t        };\n\t        Button.prototype.btnClickHandler = function () {\n\t            if (this.element.classList.contains('e-active')) {\n\t                this.element.classList.remove('e-active');\n\t            }\n\t            else {\n\t                this.element.classList.add('e-active');\n\t            }\n\t        };\n\t        Button.prototype.destroy = function () {\n\t            var span;\n\t            var element = this.element;\n\t            _super.prototype.destroy.call(this);\n\t            ej2_base_3.removeClass([this.element], [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success',\n\t                'e-info', 'e-danger', 'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round']);\n\t            ['e-ripple', 'disabled'].forEach(function (value) {\n\t                element.removeAttribute(value);\n\t            });\n\t            if (this.content) {\n\t                element.innerHTML = element.innerHTML.replace(this.content, '');\n\t            }\n\t            span = element.querySelector('span.e-btn-icon');\n\t            if (span) {\n\t                ej2_base_3.detach(span);\n\t            }\n\t            this.unWireEvents();\n\t        };\n\t        Button.prototype.getModuleName = function () {\n\t            return 'btn';\n\t        };\n\t        Button.prototype.getPersistData = function () {\n\t            return this.addOnPersist([]);\n\t        };\n\t        Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n\t            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n\t                var prop = _a[_i];\n\t                switch (prop) {\n\t                    case 'isPrimary':\n\t                        if (newProp.isPrimary) {\n\t                            this.element.classList.add(cssClassName.PRIMARY);\n\t                        }\n\t                        else {\n\t                            this.element.classList.remove(cssClassName.PRIMARY);\n\t                        }\n\t                        break;\n\t                    case 'disabled':\n\t                        this.controlStatus(this.disabled);\n\t                        break;\n\t                    case 'iconCss':\n\t                        var span = this.element.querySelector('span.e-btn-icon');\n\t                        if (span) {\n\t                            span.className = 'e-btn-icon ' + this.iconCss;\n\t                            if (this.element.textContent) {\n\t                                if (this.iconPosition === 'left') {\n\t                                    span.classList.add('e-icon-left');\n\t                                }\n\t                                else {\n\t                                    span.classList.add('e-icon-right');\n\t                                }\n\t                            }\n\t                        }\n\t                        else {\n\t                            this.setIconCss();\n\t                        }\n\t                        break;\n\t                    case 'iconPosition':\n\t                        span = this.element.querySelector('span.e-btn-icon');\n\t                        if (span) {\n\t                            ej2_base_3.detach(span);\n\t                        }\n\t                        this.setIconCss();\n\t                        break;\n\t                    case 'cssClass':\n\t                        if (oldProp.cssClass) {\n\t                            ej2_base_3.removeClass([this.element], oldProp.cssClass.split(' '));\n\t                        }\n\t                        ej2_base_3.addClass([this.element], newProp.cssClass.split(' '));\n\t                        break;\n\t                    case 'enableRtl':\n\t                        if (newProp.enableRtl) {\n\t                            this.element.classList.add(cssClassName.RTL);\n\t                        }\n\t                        else {\n\t                            this.element.classList.remove(cssClassName.RTL);\n\t                        }\n\t                        break;\n\t                    case 'content':\n\t                        var node = common_1.getTextNode(this.element);\n\t                        if (node) {\n\t                            node.textContent = newProp.content;\n\t                        }\n\t                        else {\n\t                            this.element.innerHTML = newProp.content;\n\t                            this.element.classList.remove(cssClassName.ICONBTN);\n\t                            this.setIconCss();\n\t                        }\n\t                        break;\n\t                    case 'isToggle':\n\t                        if (newProp.isToggle) {\n\t                            ej2_base_2.EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n\t                        }\n\t                        else {\n\t                            ej2_base_2.EventHandler.remove(this.element, 'click', this.btnClickHandler);\n\t                            ej2_base_3.removeClass([this.element], ['e-active']);\n\t                        }\n\t                        break;\n\t                }\n\t            }\n\t        };\n\t        return Button;\n\t    }(ej2_base_1.Component));\n\t    __decorate([\n\t        ej2_base_1.Property('left')\n\t    ], Button.prototype, \"iconPosition\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], Button.prototype, \"iconCss\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], Button.prototype, \"disabled\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], Button.prototype, \"isPrimary\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], Button.prototype, \"cssClass\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], Button.prototype, \"content\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], Button.prototype, \"isToggle\", void 0);\n\t    Button = __decorate([\n\t        ej2_base_1.NotifyPropertyChanges\n\t    ], Button);\n\t    exports.Button = Button;\n\t    exports.buttonBuilder = ej2_base_2.CreateBuilder(Button);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(7)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, check_box_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(check_box_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2, ej2_base_3, ej2_base_4) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var CHECK = 'e-check';\n\t    var DISABLED = 'e-checkbox-disabled';\n\t    var FRAME = 'e-frame';\n\t    var INDETERMINATE = 'e-stop';\n\t    var LABEL = 'e-label';\n\t    var RIPPLE = 'e-ripple-container';\n\t    var RTL = 'e-rtl';\n\t    var WRAPPER = 'e-checkbox-wrapper';\n\t    var CheckBox = (function (_super) {\n\t        __extends(CheckBox, _super);\n\t        function CheckBox(options, element) {\n\t            var _this = _super.call(this, options, element) || this;\n\t            _this.isKeyPressed = false;\n\t            return _this;\n\t        }\n\t        CheckBox.prototype.changeState = function (state) {\n\t            var ariaState;\n\t            var frameSpan = this.getWrapper().getElementsByClassName(FRAME)[0];\n\t            if (state === 'check') {\n\t                frameSpan.classList.remove(INDETERMINATE);\n\t                frameSpan.classList.add(CHECK);\n\t                ariaState = 'true';\n\t                this.element.checked = true;\n\t            }\n\t            else if (state === 'uncheck') {\n\t                ej2_base_3.removeClass([frameSpan], [CHECK, INDETERMINATE]);\n\t                ariaState = 'false';\n\t                this.element.checked = false;\n\t            }\n\t            else {\n\t                frameSpan.classList.remove(CHECK);\n\t                frameSpan.classList.add(INDETERMINATE);\n\t                ariaState = 'mixed';\n\t                this.element.indeterminate = true;\n\t            }\n\t            this.getWrapper().setAttribute('aria-checked', ariaState);\n\t        };\n\t        CheckBox.prototype.clickHandler = function (event) {\n\t            this.focusOutHandler();\n\t            if (this.indeterminate) {\n\t                this.changeState(this.checked ? 'check' : 'uncheck');\n\t                this.indeterminate = false;\n\t                this.element.indeterminate = false;\n\t            }\n\t            else if (this.checked) {\n\t                this.changeState('uncheck');\n\t                this.checked = false;\n\t            }\n\t            else {\n\t                this.changeState('check');\n\t                this.checked = true;\n\t            }\n\t            var changeEventArgs = { checked: this.element.checked, event: event };\n\t            this.trigger('change', changeEventArgs);\n\t        };\n\t        CheckBox.prototype.destroy = function () {\n\t            var wrapper = this.getWrapper();\n\t            _super.prototype.destroy.call(this);\n\t            if (!this.disabled) {\n\t                this.unWireEvents();\n\t            }\n\t            wrapper.parentNode.insertBefore(this.element, wrapper);\n\t            ej2_base_3.detach(wrapper);\n\t            this.element.checked = false;\n\t            if (this.indeterminate) {\n\t                this.element.indeterminate = false;\n\t            }\n\t            if (this.name) {\n\t                this.element.removeAttribute('name');\n\t            }\n\t            if (this.value) {\n\t                this.element.removeAttribute('value');\n\t            }\n\t            if (this.disabled) {\n\t                this.element.removeAttribute('disabled');\n\t            }\n\t        };\n\t        CheckBox.prototype.focusHandler = function () {\n\t            if (this.isKeyPressed) {\n\t                this.getWrapper().classList.add('e-focus');\n\t            }\n\t        };\n\t        CheckBox.prototype.focusOutHandler = function () {\n\t            this.getWrapper().classList.remove('e-focus');\n\t        };\n\t        CheckBox.prototype.getModuleName = function () {\n\t            return 'checkbox';\n\t        };\n\t        CheckBox.prototype.getPersistData = function () {\n\t            return this.addOnPersist(['checked', 'indeterminate']);\n\t        };\n\t        CheckBox.prototype.getWrapper = function () {\n\t            return this.element.parentElement.parentElement;\n\t        };\n\t        CheckBox.prototype.initialize = function () {\n\t            if (this.name) {\n\t                this.element.setAttribute('name', this.name);\n\t            }\n\t            if (this.value) {\n\t                this.element.setAttribute('value', this.value);\n\t            }\n\t            if (this.checked) {\n\t                this.changeState('check');\n\t            }\n\t            if (this.indeterminate) {\n\t                this.changeState();\n\t            }\n\t            if (this.disabled) {\n\t                this.setDisabled();\n\t            }\n\t        };\n\t        CheckBox.prototype.initWrapper = function () {\n\t            var wrapper = this.element.parentElement;\n\t            if (!wrapper.classList.contains(WRAPPER)) {\n\t                wrapper = ej2_base_3.createElement('div', {\n\t                    className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n\t                });\n\t                this.element.parentNode.insertBefore(wrapper, this.element);\n\t            }\n\t            var label = ej2_base_3.createElement('label', { attrs: { for: this.element.id } });\n\t            var frameSpan = ej2_base_3.createElement('span', { className: 'e-icons ' + FRAME });\n\t            if (this.enableRtl) {\n\t                wrapper.classList.add(RTL);\n\t            }\n\t            if (this.cssClass) {\n\t                ej2_base_3.addClass([wrapper], this.cssClass.split(' '));\n\t            }\n\t            wrapper.appendChild(label);\n\t            label.appendChild(this.element);\n\t            label.appendChild(frameSpan);\n\t            if (ej2_base_3.isRippleEnabled) {\n\t                var rippleSpan = ej2_base_3.createElement('span', { className: RIPPLE });\n\t                frameSpan.appendChild(rippleSpan);\n\t                ej2_base_3.rippleEffect(rippleSpan, { duration: 400, isCenterRipple: true });\n\t            }\n\t            if (this.label) {\n\t                this.setText(this.label);\n\t            }\n\t        };\n\t        CheckBox.prototype.keyActionHandler = function (e) {\n\t            if (e.action === 'space') {\n\t                e.preventDefault();\n\t                this.clickHandler(e);\n\t                this.focusHandler();\n\t            }\n\t        };\n\t        CheckBox.prototype.keyDownHandler = function () {\n\t            this.isKeyPressed = true;\n\t        };\n\t        CheckBox.prototype.labelMouseHandler = function (e) {\n\t            var rippleSpan = this.getWrapper().getElementsByClassName(RIPPLE)[0];\n\t            if (rippleSpan) {\n\t                var event_1 = document.createEvent('MouseEvents');\n\t                event_1.initEvent(e.type, true, true);\n\t                rippleSpan.dispatchEvent(event_1);\n\t            }\n\t        };\n\t        CheckBox.prototype.mouseDownHandler = function () {\n\t            this.isKeyPressed = false;\n\t        };\n\t        CheckBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n\t            var wrapper = this.getWrapper();\n\t            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n\t                var prop = _a[_i];\n\t                switch (prop) {\n\t                    case 'checked':\n\t                        this.indeterminate = false;\n\t                        this.element.indeterminate = false;\n\t                        this.changeState(newProp.checked ? 'check' : 'uncheck');\n\t                        break;\n\t                    case 'indeterminate':\n\t                        if (newProp.indeterminate) {\n\t                            this.changeState();\n\t                        }\n\t                        else {\n\t                            this.element.indeterminate = false;\n\t                            this.changeState(this.checked ? 'check' : 'uncheck');\n\t                        }\n\t                        break;\n\t                    case 'disabled':\n\t                        if (newProp.disabled) {\n\t                            this.setDisabled();\n\t                            this.unWireEvents();\n\t                        }\n\t                        else {\n\t                            this.element.disabled = false;\n\t                            wrapper.classList.remove(DISABLED);\n\t                            wrapper.setAttribute('aria-disabled', 'false');\n\t                            this.wireEvents();\n\t                        }\n\t                        break;\n\t                    case 'cssClass':\n\t                        if (oldProp.cssClass) {\n\t                            wrapper.classList.remove(oldProp.cssClass);\n\t                        }\n\t                        wrapper.classList.add(newProp.cssClass);\n\t                        break;\n\t                    case 'enableRtl':\n\t                        if (newProp.enableRtl) {\n\t                            wrapper.classList.add(RTL);\n\t                        }\n\t                        else {\n\t                            wrapper.classList.remove(RTL);\n\t                        }\n\t                        break;\n\t                    case 'label':\n\t                        this.setText(newProp.label);\n\t                        break;\n\t                    case 'labelPosition':\n\t                        var label = wrapper.getElementsByClassName(LABEL)[0];\n\t                        var labelWrap = wrapper.getElementsByTagName('label')[0];\n\t                        ej2_base_3.detach(label);\n\t                        if (newProp.labelPosition === 'after') {\n\t                            labelWrap.appendChild(label);\n\t                        }\n\t                        else {\n\t                            labelWrap.insertBefore(label, wrapper.getElementsByClassName(FRAME)[0]);\n\t                        }\n\t                        break;\n\t                    case 'name':\n\t                        this.element.setAttribute('name', newProp.name);\n\t                        break;\n\t                    case 'value':\n\t                        this.element.setAttribute('value', newProp.value);\n\t                        break;\n\t                }\n\t            }\n\t        };\n\t        CheckBox.prototype.preRender = function () {\n\t            if (this.element.tagName === 'EJ-CHECKBOX') {\n\t                var ejInst = ej2_base_4.getValue('ej2_instances', this.element);\n\t                var input = ej2_base_3.createElement('input', { attrs: { 'type': 'checkbox' } });\n\t                var props = ['change', 'cssClass', 'indeterminate', 'label', 'labelPosition'];\n\t                var wrapper = ej2_base_3.createElement('EJ-CHECKBOX', {\n\t                    className: WRAPPER, attrs: { 'role': 'checkbox', 'aria-checked': 'false' }\n\t                });\n\t                for (var index = 0, len = this.element.attributes.length; index < len; index++) {\n\t                    if (props.indexOf(this.element.attributes[index].nodeName) === -1) {\n\t                        input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n\t                    }\n\t                }\n\t                this.element.parentNode.insertBefore(input, this.element);\n\t                ej2_base_3.detach(this.element);\n\t                this.element = input;\n\t                this.element.parentNode.insertBefore(wrapper, this.element);\n\t                wrapper.appendChild(this.element);\n\t                ej2_base_4.setValue('ej2_instances', ejInst, this.element);\n\t            }\n\t            if (this.element.getAttribute('type') !== 'checkbox') {\n\t                this.element.setAttribute('type', 'checkbox');\n\t            }\n\t            if (!this.element.id) {\n\t                this.element.id = ej2_base_4.getUniqueID('e-' + this.getModuleName());\n\t            }\n\t        };\n\t        CheckBox.prototype.render = function () {\n\t            this.initWrapper();\n\t            this.initialize();\n\t            if (!this.disabled) {\n\t                this.wireEvents();\n\t            }\n\t        };\n\t        CheckBox.prototype.setDisabled = function () {\n\t            var wrapper = this.getWrapper();\n\t            this.element.disabled = true;\n\t            wrapper.classList.add(DISABLED);\n\t            wrapper.setAttribute('aria-disabled', 'true');\n\t        };\n\t        CheckBox.prototype.setText = function (text) {\n\t            var label = this.getWrapper().getElementsByClassName(LABEL)[0];\n\t            if (label) {\n\t                label.textContent = text;\n\t            }\n\t            else {\n\t                label = ej2_base_3.createElement('span', { className: LABEL, innerHTML: text });\n\t                var labelWrap = this.getWrapper().getElementsByTagName('label')[0];\n\t                if (this.labelPosition === 'before') {\n\t                    labelWrap.insertBefore(label, this.getWrapper().getElementsByClassName(FRAME)[0]);\n\t                }\n\t                else {\n\t                    labelWrap.appendChild(label);\n\t                }\n\t            }\n\t        };\n\t        CheckBox.prototype.unWireEvents = function () {\n\t            var wrapper = this.getWrapper();\n\t            ej2_base_2.EventHandler.remove(this.element, 'click', this.clickHandler);\n\t            this.keyboardModule.destroy();\n\t            ej2_base_2.EventHandler.remove(document, 'keydown', this.keyDownHandler);\n\t            ej2_base_2.EventHandler.remove(wrapper, 'mousedown', this.mouseDownHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focus', this.focusHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n\t            var label = wrapper.getElementsByClassName('e-label')[0];\n\t            if (label) {\n\t                ej2_base_2.EventHandler.remove(label, 'mousedown', this.labelMouseHandler);\n\t                ej2_base_2.EventHandler.remove(label, 'mouseup', this.labelMouseHandler);\n\t            }\n\t        };\n\t        CheckBox.prototype.wireEvents = function () {\n\t            var wrapper = this.getWrapper();\n\t            ej2_base_2.EventHandler.add(this.element, 'click', this.clickHandler, this);\n\t            this.keyboardModule = new ej2_base_2.KeyboardEvents(wrapper, {\n\t                eventName: 'keydown',\n\t                keyAction: this.keyActionHandler.bind(this),\n\t                keyConfigs: { space: 'space' }\n\t            });\n\t            ej2_base_2.EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n\t            ej2_base_2.EventHandler.add(wrapper, 'mousedown', this.mouseDownHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focus', this.focusHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n\t            var label = wrapper.getElementsByClassName('e-label')[0];\n\t            if (label) {\n\t                ej2_base_2.EventHandler.add(label, 'mousedown', this.labelMouseHandler, this);\n\t                ej2_base_2.EventHandler.add(label, 'mouseup', this.labelMouseHandler, this);\n\t            }\n\t        };\n\t        return CheckBox;\n\t    }(ej2_base_1.Component));\n\t    __decorate([\n\t        ej2_base_2.Event()\n\t    ], CheckBox.prototype, \"change\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], CheckBox.prototype, \"checked\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], CheckBox.prototype, \"cssClass\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], CheckBox.prototype, \"disabled\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], CheckBox.prototype, \"indeterminate\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], CheckBox.prototype, \"label\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('after')\n\t    ], CheckBox.prototype, \"labelPosition\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], CheckBox.prototype, \"name\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], CheckBox.prototype, \"value\", void 0);\n\t    CheckBox = __decorate([\n\t        ej2_base_1.NotifyPropertyChanges\n\t    ], CheckBox);\n\t    exports.CheckBox = CheckBox;\n\t    exports.checkBoxBuilder = ej2_base_1.CreateBuilder(CheckBox);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(9)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, radio_button_1) {\n\t    \"use strict\";\n\t    function __export(m) {\n\t        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n\t    }\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    __export(radio_button_1);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n\t    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n\t    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n\t    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n\t    return c > 3 && r && Object.defineProperty(target, key, r), r;\n\t};\n\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__, exports, __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(3), __webpack_require__(2)], __WEBPACK_AMD_DEFINE_RESULT__ = function (require, exports, ej2_base_1, ej2_base_2, ej2_base_3, ej2_base_4, common_1) {\n\t    \"use strict\";\n\t    Object.defineProperty(exports, \"__esModule\", { value: true });\n\t    var LABEL = 'e-label';\n\t    var RIPPLE = 'e-ripple-container';\n\t    var RTL = 'e-rtl';\n\t    var WRAPPER = 'e-radio-wrapper';\n\t    var RadioButton = (function (_super) {\n\t        __extends(RadioButton, _super);\n\t        function RadioButton(options, element) {\n\t            var _this = _super.call(this, options, element) || this;\n\t            _this.isKeyPressed = false;\n\t            return _this;\n\t        }\n\t        RadioButton.prototype.changeHandler = function (event) {\n\t            this.checked = true;\n\t            var changeEventArgs = { checked: true, event: event };\n\t            this.trigger('change', changeEventArgs);\n\t        };\n\t        RadioButton.prototype.updateChange = function (state) {\n\t            var input;\n\t            var name = this.element.getAttribute('name');\n\t            var radioGrp = document.querySelectorAll('input.e-radio[name=\"' + name + '\"]');\n\t            for (var i = 0; i < radioGrp.length; i++) {\n\t                input = radioGrp[i];\n\t                if (input !== this.element) {\n\t                    input.ej2_instances[0].checked = false;\n\t                }\n\t            }\n\t        };\n\t        RadioButton.prototype.destroy = function () {\n\t            var label = this.getLabel();\n\t            _super.prototype.destroy.call(this);\n\t            if (!this.disabled) {\n\t                this.unWireEvents();\n\t            }\n\t            ej2_base_3.detach(label);\n\t            this.element.checked = false;\n\t            if (this.name) {\n\t                this.element.removeAttribute('name');\n\t            }\n\t            if (this.value) {\n\t                this.element.removeAttribute('value');\n\t            }\n\t            if (this.disabled) {\n\t                this.element.removeAttribute('disabled');\n\t            }\n\t        };\n\t        RadioButton.prototype.focusHandler = function () {\n\t            if (this.isKeyPressed) {\n\t                this.getLabel().classList.add('e-focus');\n\t            }\n\t        };\n\t        RadioButton.prototype.focusOutHandler = function () {\n\t            this.getLabel().classList.remove('e-focus');\n\t        };\n\t        RadioButton.prototype.getModuleName = function () {\n\t            return 'radio';\n\t        };\n\t        RadioButton.prototype.getPersistData = function () {\n\t            return this.addOnPersist(['checked']);\n\t        };\n\t        RadioButton.prototype.getLabel = function () {\n\t            return this.element.nextElementSibling;\n\t        };\n\t        RadioButton.prototype.initialize = function () {\n\t            this.initWrapper();\n\t            if (this.name) {\n\t                this.element.setAttribute('name', this.name);\n\t            }\n\t            if (this.value) {\n\t                this.element.setAttribute('value', this.value);\n\t            }\n\t            if (this.checked) {\n\t                this.element.checked = true;\n\t            }\n\t            if (this.disabled) {\n\t                this.setDisabled();\n\t            }\n\t        };\n\t        RadioButton.prototype.initWrapper = function () {\n\t            var rippleSpan;\n\t            var wrapper = this.element.parentElement;\n\t            if (!wrapper.classList.contains(WRAPPER)) {\n\t                wrapper = ej2_base_3.createElement('div', { className: WRAPPER });\n\t                this.element.parentNode.insertBefore(wrapper, this.element);\n\t            }\n\t            var label = ej2_base_3.createElement('label', { attrs: { for: this.element.id } });\n\t            wrapper.appendChild(this.element);\n\t            wrapper.appendChild(label);\n\t            if (ej2_base_3.isRippleEnabled) {\n\t                rippleSpan = ej2_base_3.createElement('span', { className: (RIPPLE) });\n\t                label.appendChild(rippleSpan);\n\t                ej2_base_1.rippleEffect(rippleSpan, {\n\t                    duration: 400,\n\t                    isCenterRipple: true\n\t                });\n\t            }\n\t            if (this.enableRtl) {\n\t                label.classList.add(RTL);\n\t            }\n\t            if (this.cssClass) {\n\t                ej2_base_3.addClass([label], this.cssClass.split(' '));\n\t            }\n\t            if (this.label) {\n\t                this.setText(this.label);\n\t            }\n\t        };\n\t        RadioButton.prototype.keyDownHandler = function () {\n\t            this.isKeyPressed = true;\n\t        };\n\t        RadioButton.prototype.labelRippleHandler = function (e) {\n\t            var ripple = this.getLabel().getElementsByClassName(RIPPLE)[0];\n\t            if (ripple) {\n\t                var event_1 = document.createEvent('MouseEvents');\n\t                event_1.initEvent(e.type, true, true);\n\t                ripple.dispatchEvent(event_1);\n\t            }\n\t        };\n\t        RadioButton.prototype.mouseDownHandler = function () {\n\t            this.isKeyPressed = false;\n\t        };\n\t        RadioButton.prototype.onPropertyChanged = function (newProp, oldProp) {\n\t            var label = this.getLabel();\n\t            for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n\t                var prop = _a[_i];\n\t                switch (prop) {\n\t                    case 'checked':\n\t                        if (newProp.checked) {\n\t                            this.updateChange(newProp.checked);\n\t                        }\n\t                        this.element.checked = newProp.checked;\n\t                        break;\n\t                    case 'disabled':\n\t                        if (newProp.disabled) {\n\t                            this.setDisabled();\n\t                            this.unWireEvents();\n\t                        }\n\t                        else {\n\t                            this.element.disabled = false;\n\t                            this.wireEvents();\n\t                        }\n\t                        break;\n\t                    case 'cssClass':\n\t                        if (oldProp.cssClass) {\n\t                            label.classList.remove(oldProp.cssClass);\n\t                        }\n\t                        label.classList.add(newProp.cssClass);\n\t                        break;\n\t                    case 'enableRtl':\n\t                        if (newProp.enableRtl) {\n\t                            label.classList.add(RTL);\n\t                        }\n\t                        else {\n\t                            label.classList.remove(RTL);\n\t                        }\n\t                        break;\n\t                    case 'label':\n\t                        this.setText(newProp.label);\n\t                        break;\n\t                    case 'labelPosition':\n\t                        if (newProp.labelPosition === 'before') {\n\t                            label.classList.add('e-right');\n\t                        }\n\t                        else {\n\t                            label.classList.remove('e-right');\n\t                        }\n\t                        break;\n\t                    case 'name':\n\t                        this.element.setAttribute('name', newProp.name);\n\t                        break;\n\t                    case 'value':\n\t                        this.element.setAttribute('value', newProp.value);\n\t                        break;\n\t                }\n\t            }\n\t        };\n\t        RadioButton.prototype.preRender = function () {\n\t            var element = this.element;\n\t            element = common_1.wrapperInitialize('EJ-RADIOBUTTON', 'radio', element, WRAPPER);\n\t            this.element = element;\n\t            if (this.element.getAttribute('type') !== 'radio') {\n\t                this.element.setAttribute('type', 'radio');\n\t            }\n\t            if (!this.element.id) {\n\t                this.element.id = ej2_base_4.getUniqueID('e-' + this.getModuleName());\n\t            }\n\t        };\n\t        RadioButton.prototype.render = function () {\n\t            this.initialize();\n\t            if (!this.disabled) {\n\t                this.wireEvents();\n\t            }\n\t        };\n\t        RadioButton.prototype.setDisabled = function () {\n\t            this.element.disabled = true;\n\t        };\n\t        RadioButton.prototype.setText = function (text) {\n\t            var label = this.getLabel();\n\t            var textLabel = label.getElementsByClassName(LABEL)[0];\n\t            if (textLabel) {\n\t                textLabel.textContent = text;\n\t            }\n\t            else {\n\t                textLabel = ej2_base_3.createElement('span', { className: LABEL, innerHTML: text });\n\t                label.appendChild(textLabel);\n\t            }\n\t            if (this.labelPosition === 'before') {\n\t                this.getLabel().classList.add('e-right');\n\t            }\n\t            else {\n\t                this.getLabel().classList.remove('e-right');\n\t            }\n\t        };\n\t        RadioButton.prototype.unWireEvents = function () {\n\t            var label = this.getLabel();\n\t            ej2_base_2.EventHandler.remove(this.element, 'change', this.changeHandler);\n\t            ej2_base_2.EventHandler.remove(document, 'keydown', this.keyDownHandler);\n\t            ej2_base_2.EventHandler.remove(label, 'mousedown', this.mouseDownHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focus', this.focusHandler);\n\t            ej2_base_2.EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n\t            var rippleLabel = label.getElementsByClassName(LABEL)[0];\n\t            if (rippleLabel) {\n\t                ej2_base_2.EventHandler.remove(rippleLabel, 'mousedown', this.labelRippleHandler);\n\t                ej2_base_2.EventHandler.remove(rippleLabel, 'mouseup', this.labelRippleHandler);\n\t            }\n\t        };\n\t        RadioButton.prototype.wireEvents = function () {\n\t            var label = this.getLabel();\n\t            ej2_base_2.EventHandler.add(this.element, 'change', this.changeHandler, this);\n\t            ej2_base_2.EventHandler.add(document, 'keydown', this.keyDownHandler, this);\n\t            ej2_base_2.EventHandler.add(label, 'mousedown', this.mouseDownHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focus', this.focusHandler, this);\n\t            ej2_base_2.EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n\t            var rippleLabel = label.getElementsByClassName(LABEL)[0];\n\t            if (rippleLabel) {\n\t                ej2_base_2.EventHandler.add(rippleLabel, 'mousedown', this.labelRippleHandler, this);\n\t                ej2_base_2.EventHandler.add(rippleLabel, 'mouseup', this.labelRippleHandler, this);\n\t            }\n\t        };\n\t        return RadioButton;\n\t    }(ej2_base_1.Component));\n\t    __decorate([\n\t        ej2_base_2.Event()\n\t    ], RadioButton.prototype, \"change\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], RadioButton.prototype, \"checked\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], RadioButton.prototype, \"cssClass\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property(false)\n\t    ], RadioButton.prototype, \"disabled\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], RadioButton.prototype, \"label\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('after')\n\t    ], RadioButton.prototype, \"labelPosition\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], RadioButton.prototype, \"name\", void 0);\n\t    __decorate([\n\t        ej2_base_1.Property('')\n\t    ], RadioButton.prototype, \"value\", void 0);\n\t    RadioButton = __decorate([\n\t        ej2_base_1.NotifyPropertyChanges\n\t    ], RadioButton);\n\t    exports.RadioButton = RadioButton;\n\t    exports.radioButtonBuilder = ej2_base_1.CreateBuilder(RadioButton);\n\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ })\n/******/ ])\n});\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAwN2Q0Y2M3ZTlmZWY3YzZlOTQzOCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiIiwid2VicGFjazovLy8uL3NyYy9idXR0b24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2J1dHRvbi9idXR0b24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NoZWNrLWJveC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY2hlY2stYm94L2NoZWNrLWJveC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmFkaW8tYnV0dG9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9yYWRpby1idXR0b24vcmFkaW8tYnV0dG9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO0FDVkE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztpRUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7Ozs7OztpRUNWRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQWtELGNBQWM7QUFDaEU7QUFDQSxFQUFDOzs7Ozs7O2lFQ1BEO0FBQ0E7QUFDQSxtREFBa0QsY0FBYztBQUNoRTtBQUNBO0FBQ0E7QUFDQSw0REFBMkQsU0FBUyxlQUFlLEVBQUU7QUFDckY7QUFDQTtBQUNBLDZDQUE0QztBQUM1QyxjQUFhO0FBQ2IsaUVBQWdFLGFBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXVELGtDQUFrQztBQUN6RiwyREFBMEQsK0JBQStCO0FBQ3pGLDREQUEyRCxrQ0FBa0M7QUFDN0YsOENBQTZDLHNDQUFzQztBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7Ozs7OztBQ2hERCxnRDs7Ozs7O2lFQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBa0QsY0FBYztBQUNoRTtBQUNBLEVBQUM7Ozs7Ozs7QUNQRDtBQUNBO0FBQ0EsV0FBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLDBCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTtBQUNBLHdCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBLEVBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFtRCxzQ0FBc0M7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBNkQsMENBQTBDO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF1RCxnQkFBZ0I7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDOzs7Ozs7O2lFQy9ORDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQWtELGNBQWM7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTJELHFCQUFxQjtBQUNoRjtBQUNBO0FBQ0EsNERBQTJELFNBQVMsdUJBQXVCLEVBQUU7QUFDN0Y7QUFDQTtBQUNBO0FBQ0EsZ0VBQStELHNCQUFzQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBdUQsZ0JBQWdCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQThELG9DQUFvQztBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUMiLCJmaWxlIjoiZWoyLWJ1dHRvbnMudW1kLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wiQHN5bmNmdXNpb24vZWoyLWJhc2VcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGZhY3RvcnkocmVxdWlyZShcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIpKSA6IGZhY3Rvcnkocm9vdFtcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCJdKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfM19fKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDA3ZDRjYzdlOWZlZjdjNmU5NDM4IiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiLi9jb21tb24vaW5kZXhcIiwgXCIuL2J1dHRvbi9pbmRleFwiLCBcIi4vY2hlY2stYm94L2luZGV4XCIsIFwiLi9yYWRpby1idXR0b24vaW5kZXhcIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBpbmRleF8xLCBpbmRleF8yLCBpbmRleF8zLCBpbmRleF80KSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgICAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICBfX2V4cG9ydChpbmRleF8xKTtcbiAgICBfX2V4cG9ydChpbmRleF8yKTtcbiAgICBfX2V4cG9ydChpbmRleF8zKTtcbiAgICBfX2V4cG9ydChpbmRleF80KTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiLi9jb21tb25cIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBjb21tb25fMSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgX19leHBvcnQoY29tbW9uXzEpO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21tb24vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGVqMl9iYXNlXzEsIGVqMl9iYXNlXzIpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgZnVuY3Rpb24gd3JhcHBlckluaXRpYWxpemUodGFnLCB0eXBlLCBlbGVtZW50LCBXUkFQUEVSKSB7XG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09IHRhZykge1xuICAgICAgICAgICAgdmFyIGVqSW5zdGFuY2UgPSBlajJfYmFzZV8yLmdldFZhbHVlKCdlajJfaW5zdGFuY2VzJywgZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBlajJfYmFzZV8xLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBhdHRyczogeyAndHlwZSc6IHR5cGUgfSB9KTtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IFsnY2hhbmdlJywgJ2Nzc0NsYXNzJywgJ2xhYmVsJywgJ2xhYmVsUG9zaXRpb24nXTtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gZWoyX2Jhc2VfMS5jcmVhdGVFbGVtZW50KHRhZywge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogV1JBUFBFUiwgYXR0cnM6IHsgJ3JvbGUnOiB0eXBlLCAnYXJpYS1jaGVja2VkJzogJ2ZhbHNlJyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMCwgbGVuID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMuaW5kZXhPZihlbGVtZW50LmF0dHJpYnV0ZXNbaW5kZXhdLm5vZGVOYW1lKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKGVsZW1lbnQuYXR0cmlidXRlc1tpbmRleF0ubm9kZU5hbWUsIGVsZW1lbnQuYXR0cmlidXRlc1tpbmRleF0ubm9kZVZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGlucHV0LCBlbGVtZW50KTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzEuZGV0YWNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudCA9IGlucHV0O1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLnNldFZhbHVlKCdlajJfaW5zdGFuY2VzJywgZWpJbnN0YW5jZSwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIGV4cG9ydHMud3JhcHBlckluaXRpYWxpemUgPSB3cmFwcGVySW5pdGlhbGl6ZTtcbiAgICBmdW5jdGlvbiBnZXRUZXh0Tm9kZShlbGVtZW50KSB7XG4gICAgICAgIHZhciBub2RlO1xuICAgICAgICB2YXIgY2hpbGRub2RlID0gZWxlbWVudC5jaGlsZE5vZGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbm9kZSA9IGNoaWxkbm9kZVtpXTtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGV4cG9ydHMuZ2V0VGV4dE5vZGUgPSBnZXRUZXh0Tm9kZTtcbiAgICBmdW5jdGlvbiBjcmVhdGVDaGVja0JveCgpIHtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSBlajJfYmFzZV8xLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnZS1jaGVja2JveC13cmFwcGVyJyB9KTtcbiAgICAgICAgdmFyIGZyYW1lU3BhbiA9IGVqMl9iYXNlXzEuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZS1mcmFtZSBlLWljb25zJyB9KTtcbiAgICAgICAgdmFyIHJpcHBsZVNwYW4gPSBlajJfYmFzZV8xLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2UtcmlwcGxlLWNvbnRhaW5lcicgfSk7XG4gICAgICAgIGVqMl9iYXNlXzEucmlwcGxlRWZmZWN0KHJpcHBsZVNwYW4sIHsgaXNDZW50ZXJSaXBwbGU6IHRydWUsIGR1cmF0aW9uOiA0MDAgfSk7XG4gICAgICAgIGZyYW1lU3Bhbi5hcHBlbmRDaGlsZChyaXBwbGVTcGFuKTtcbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChmcmFtZVNwYW4pO1xuICAgICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG4gICAgZXhwb3J0cy5jcmVhdGVDaGVja0JveCA9IGNyZWF0ZUNoZWNrQm94O1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jb21tb24vY29tbW9uLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImRlZmluZShbXCJyZXF1aXJlXCIsIFwiZXhwb3J0c1wiLCBcIi4vYnV0dG9uXCJdLCBmdW5jdGlvbiAocmVxdWlyZSwgZXhwb3J0cywgYnV0dG9uXzEpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIF9fZXhwb3J0KGJ1dHRvbl8xKTtcbn0pO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYnV0dG9uL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiLi4vY29tbW9uL2NvbW1vblwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGVqMl9iYXNlXzEsIGVqMl9iYXNlXzIsIGVqMl9iYXNlXzMsIGNvbW1vbl8xKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIHZhciBjc3NDbGFzc05hbWUgPSB7XG4gICAgICAgIFJUTDogJ2UtcnRsJyxcbiAgICAgICAgQlVUVE9OOiAnZS1idG4nLFxuICAgICAgICBQUklNQVJZOiAnZS1wcmltYXJ5JyxcbiAgICAgICAgSUNPTkJUTjogJ2UtaWNvbi1idG4nXG4gICAgfTtcbiAgICB2YXIgQnV0dG9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKEJ1dHRvbiwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gQnV0dG9uKG9wdGlvbnMsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLCBlbGVtZW50KSB8fCB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jc3NDbGFzcykge1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIHRoaXMuY3NzQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pc1ByaW1hcnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzc05hbWUuUFJJTUFSWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuY29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0SWNvbkNzcygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUnRsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3NOYW1lLlJUTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbFN0YXR1cyh0aGlzLmRpc2FibGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVqMl9iYXNlXzIucmlwcGxlRWZmZWN0KHRoaXMuZWxlbWVudCwgeyBzZWxlY3RvcjogJy4nICsgY3NzQ2xhc3NOYW1lLkJVVFRPTiB9KTtcbiAgICAgICAgICAgIHRoaXMud2lyZUV2ZW50cygpO1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLmNvbnRyb2xTdGF0dXMgPSBmdW5jdGlvbiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLnNldEljb25Dc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pY29uQ3NzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3NOYW1lLklDT05CVE4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZS1idG4taWNvbiAnICsgdGhpcy5pY29uQ3NzIH0pO1xuICAgICAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5lbGVtZW50LmNoaWxkTm9kZXNbMF07XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgJiYgdGhpcy5pY29uUG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHNwYW4sIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ2UtaWNvbi1sZWZ0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmljb25Qb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdlLWljb24tcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQnV0dG9uLnByb3RvdHlwZS53aXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUb2dnbGUpIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmJ0bkNsaWNrSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUudW5XaXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUb2dnbGUpIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmJ0bkNsaWNrSGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUuYnRuQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2UtYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZS1hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlLWFjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBCdXR0b24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3BhbjtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgICAgICBlajJfYmFzZV8zLnJlbW92ZUNsYXNzKFt0aGlzLmVsZW1lbnRdLCBbY3NzQ2xhc3NOYW1lLlBSSU1BUlksIGNzc0NsYXNzTmFtZS5SVEwsIGNzc0NsYXNzTmFtZS5JQ09OQlROLCAnZS1zdWNjZXNzJyxcbiAgICAgICAgICAgICAgICAnZS1pbmZvJywgJ2UtZGFuZ2VyJywgJ2Utd2FybmluZycsICdlLWZsYXQnLCAnZS1vdXRsaW5lJywgJ2Utc21hbGwnLCAnZS1iaWdnZXInLCAnZS1hY3RpdmUnLCAnZS1yb3VuZCddKTtcbiAgICAgICAgICAgIFsnZS1yaXBwbGUnLCAnZGlzYWJsZWQnXS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gZWxlbWVudC5pbm5lckhUTUwucmVwbGFjZSh0aGlzLmNvbnRlbnQsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwYW4gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uZS1idG4taWNvbicpO1xuICAgICAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8zLmRldGFjaChzcGFuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudW5XaXJlRXZlbnRzKCk7XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUuZ2V0TW9kdWxlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnYnRuJztcbiAgICAgICAgfTtcbiAgICAgICAgQnV0dG9uLnByb3RvdHlwZS5nZXRQZXJzaXN0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZE9uUGVyc2lzdChbXSk7XG4gICAgICAgIH07XG4gICAgICAgIEJ1dHRvbi5wcm90b3R5cGUub25Qcm9wZXJ0eUNoYW5nZWQgPSBmdW5jdGlvbiAobmV3UHJvcCwgb2xkUHJvcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKG5ld1Byb3ApOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpc1ByaW1hcnknOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuaXNQcmltYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3NOYW1lLlBSSU1BUlkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY3NzQ2xhc3NOYW1lLlBSSU1BUlkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2FibGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbFN0YXR1cyh0aGlzLmRpc2FibGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpY29uQ3NzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFuID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uZS1idG4taWNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICdlLWJ0bi1pY29uICcgKyB0aGlzLmljb25Dc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pY29uUG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdlLWljb24tbGVmdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdlLWljb24tcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SWNvbkNzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ljb25Qb3NpdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uZS1idG4taWNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlajJfYmFzZV8zLmRldGFjaChzcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SWNvbkNzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Nzc0NsYXNzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRQcm9wLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5yZW1vdmVDbGFzcyhbdGhpcy5lbGVtZW50XSwgb2xkUHJvcC5jc3NDbGFzcy5zcGxpdCgnICcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIG5ld1Byb3AuY3NzQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW5hYmxlUnRsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmVuYWJsZVJ0bCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzTmFtZS5SVEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY3NzQ2xhc3NOYW1lLlJUTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29udGVudCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGNvbW1vbl8xLmdldFRleHROb2RlKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSBuZXdQcm9wLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gbmV3UHJvcC5jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzTmFtZS5JQ09OQlROKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEljb25Dc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpc1RvZ2dsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5pc1RvZ2dsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdjbGljaycsIHRoaXMuYnRuQ2xpY2tIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdjbGljaycsIHRoaXMuYnRuQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlajJfYmFzZV8zLnJlbW92ZUNsYXNzKFt0aGlzLmVsZW1lbnRdLCBbJ2UtYWN0aXZlJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQnV0dG9uO1xuICAgIH0oZWoyX2Jhc2VfMS5Db21wb25lbnQpKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnbGVmdCcpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJpY29uUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImljb25Dc3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImRpc2FibGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoZmFsc2UpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJpc1ByaW1hcnlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImNzc0NsYXNzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoJycpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoZmFsc2UpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJpc1RvZ2dsZVwiLCB2b2lkIDApO1xuICAgIEJ1dHRvbiA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLk5vdGlmeVByb3BlcnR5Q2hhbmdlc1xuICAgIF0sIEJ1dHRvbik7XG4gICAgZXhwb3J0cy5CdXR0b24gPSBCdXR0b247XG4gICAgZXhwb3J0cy5idXR0b25CdWlsZGVyID0gZWoyX2Jhc2VfMi5DcmVhdGVCdWlsZGVyKEJ1dHRvbik7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2J1dHRvbi9idXR0b24uanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiLi9jaGVjay1ib3hcIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCBjaGVja19ib3hfMSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgX19leHBvcnQoY2hlY2tfYm94XzEpO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jaGVjay1ib3gvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5kZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGVqMl9iYXNlXzEsIGVqMl9iYXNlXzIsIGVqMl9iYXNlXzMsIGVqMl9iYXNlXzQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgdmFyIENIRUNLID0gJ2UtY2hlY2snO1xuICAgIHZhciBESVNBQkxFRCA9ICdlLWNoZWNrYm94LWRpc2FibGVkJztcbiAgICB2YXIgRlJBTUUgPSAnZS1mcmFtZSc7XG4gICAgdmFyIElOREVURVJNSU5BVEUgPSAnZS1zdG9wJztcbiAgICB2YXIgTEFCRUwgPSAnZS1sYWJlbCc7XG4gICAgdmFyIFJJUFBMRSA9ICdlLXJpcHBsZS1jb250YWluZXInO1xuICAgIHZhciBSVEwgPSAnZS1ydGwnO1xuICAgIHZhciBXUkFQUEVSID0gJ2UtY2hlY2tib3gtd3JhcHBlcic7XG4gICAgdmFyIENoZWNrQm94ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKENoZWNrQm94LCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBDaGVja0JveChvcHRpb25zLCBlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBvcHRpb25zLCBlbGVtZW50KSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMuaXNLZXlQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLmNoYW5nZVN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgYXJpYVN0YXRlO1xuICAgICAgICAgICAgdmFyIGZyYW1lU3BhbiA9IHRoaXMuZ2V0V3JhcHBlcigpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoRlJBTUUpWzBdO1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSAnY2hlY2snKSB7XG4gICAgICAgICAgICAgICAgZnJhbWVTcGFuLmNsYXNzTGlzdC5yZW1vdmUoSU5ERVRFUk1JTkFURSk7XG4gICAgICAgICAgICAgICAgZnJhbWVTcGFuLmNsYXNzTGlzdC5hZGQoQ0hFQ0spO1xuICAgICAgICAgICAgICAgIGFyaWFTdGF0ZSA9ICd0cnVlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gJ3VuY2hlY2snKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5yZW1vdmVDbGFzcyhbZnJhbWVTcGFuXSwgW0NIRUNLLCBJTkRFVEVSTUlOQVRFXSk7XG4gICAgICAgICAgICAgICAgYXJpYVN0YXRlID0gJ2ZhbHNlJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJhbWVTcGFuLmNsYXNzTGlzdC5yZW1vdmUoQ0hFQ0spO1xuICAgICAgICAgICAgICAgIGZyYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKElOREVURVJNSU5BVEUpO1xuICAgICAgICAgICAgICAgIGFyaWFTdGF0ZSA9ICdtaXhlZCc7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmluZGV0ZXJtaW5hdGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5nZXRXcmFwcGVyKCkuc2V0QXR0cmlidXRlKCdhcmlhLWNoZWNrZWQnLCBhcmlhU3RhdGUpO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmZvY3VzT3V0SGFuZGxlcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXRlcm1pbmF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUodGhpcy5jaGVja2VkID8gJ2NoZWNrJyA6ICd1bmNoZWNrJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmluZGV0ZXJtaW5hdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoJ3VuY2hlY2snKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoJ2NoZWNrJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFuZ2VFdmVudEFyZ3MgPSB7IGNoZWNrZWQ6IHRoaXMuZWxlbWVudC5jaGVja2VkLCBldmVudDogZXZlbnQgfTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJywgY2hhbmdlRXZlbnRBcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IHRoaXMuZ2V0V3JhcHBlcigpO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuV2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JhcHBlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQsIHdyYXBwZXIpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMy5kZXRhY2god3JhcHBlcik7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXRlcm1pbmF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZm9jdXNIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNLZXlQcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRXcmFwcGVyKCkuY2xhc3NMaXN0LmFkZCgnZS1mb2N1cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZm9jdXNPdXRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5nZXRXcmFwcGVyKCkuY2xhc3NMaXN0LnJlbW92ZSgnZS1mb2N1cycpO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZ2V0TW9kdWxlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAnY2hlY2tib3gnO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUuZ2V0UGVyc2lzdERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRPblBlcnNpc3QoWydjaGVja2VkJywgJ2luZGV0ZXJtaW5hdGUnXSk7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5nZXRXcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ25hbWUnLCB0aGlzLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoJ2NoZWNrJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldERpc2FibGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5pbml0V3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXdyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFdSQVBQRVIpKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlciA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFdSQVBQRVIsIGF0dHJzOiB7ICdyb2xlJzogJ2NoZWNrYm94JywgJ2FyaWEtY2hlY2tlZCc6ICdmYWxzZScgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxhYmVsID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiB0aGlzLmVsZW1lbnQuaWQgfSB9KTtcbiAgICAgICAgICAgIHZhciBmcmFtZVNwYW4gPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2UtaWNvbnMgJyArIEZSQU1FIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUnRsKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKFJUTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jc3NDbGFzcykge1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuYWRkQ2xhc3MoW3dyYXBwZXJdLCB0aGlzLmNzc0NsYXNzLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQoZnJhbWVTcGFuKTtcbiAgICAgICAgICAgIGlmIChlajJfYmFzZV8zLmlzUmlwcGxlRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHZhciByaXBwbGVTcGFuID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IFJJUFBMRSB9KTtcbiAgICAgICAgICAgICAgICBmcmFtZVNwYW4uYXBwZW5kQ2hpbGQocmlwcGxlU3Bhbik7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5yaXBwbGVFZmZlY3QocmlwcGxlU3BhbiwgeyBkdXJhdGlvbjogNDAwLCBpc0NlbnRlclJpcHBsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUZXh0KHRoaXMubGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUua2V5QWN0aW9uSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoZS5hY3Rpb24gPT09ICdzcGFjZScpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja0hhbmRsZXIoZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mb2N1c0hhbmRsZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLmtleURvd25IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pc0tleVByZXNzZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUubGFiZWxNb3VzZUhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHJpcHBsZVNwYW4gPSB0aGlzLmdldFdyYXBwZXIoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFJJUFBMRSlbMF07XG4gICAgICAgICAgICBpZiAocmlwcGxlU3Bhbikge1xuICAgICAgICAgICAgICAgIHZhciBldmVudF8xID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XG4gICAgICAgICAgICAgICAgZXZlbnRfMS5pbml0RXZlbnQoZS50eXBlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICByaXBwbGVTcGFuLmRpc3BhdGNoRXZlbnQoZXZlbnRfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5tb3VzZURvd25IYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5pc0tleVByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLm9uUHJvcGVydHlDaGFuZ2VkID0gZnVuY3Rpb24gKG5ld1Byb3AsIG9sZFByb3ApIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5nZXRXcmFwcGVyKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMobmV3UHJvcCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5kZXRlcm1pbmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShuZXdQcm9wLmNoZWNrZWQgPyAnY2hlY2snIDogJ3VuY2hlY2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbmRldGVybWluYXRlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmluZGV0ZXJtaW5hdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5kZXRlcm1pbmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUodGhpcy5jaGVja2VkID8gJ2NoZWNrJyA6ICd1bmNoZWNrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGlzYWJsZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERpc2FibGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bldpcmVFdmVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShESVNBQkxFRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpcmVFdmVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjc3NDbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2xkUHJvcC5jc3NDbGFzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShvbGRQcm9wLmNzc0NsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZChuZXdQcm9wLmNzc0NsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVSdGwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuZW5hYmxlUnRsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKFJUTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoUlRMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdsYWJlbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRleHQobmV3UHJvcC5sYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGFiZWxQb3NpdGlvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSB3cmFwcGVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTEFCRUwpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsV3JhcCA9IHdyYXBwZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xhYmVsJylbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBlajJfYmFzZV8zLmRldGFjaChsYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5sYWJlbFBvc2l0aW9uID09PSAnYWZ0ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxXcmFwLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsV3JhcC5pbnNlcnRCZWZvcmUobGFiZWwsIHdyYXBwZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShGUkFNRSlbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnbmFtZScsIG5ld1Byb3AubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndmFsdWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBuZXdQcm9wLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLnByZVJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQudGFnTmFtZSA9PT0gJ0VKLUNIRUNLQk9YJykge1xuICAgICAgICAgICAgICAgIHZhciBlakluc3QgPSBlajJfYmFzZV80LmdldFZhbHVlKCdlajJfaW5zdGFuY2VzJywgdGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgeyBhdHRyczogeyAndHlwZSc6ICdjaGVja2JveCcgfSB9KTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSBbJ2NoYW5nZScsICdjc3NDbGFzcycsICdpbmRldGVybWluYXRlJywgJ2xhYmVsJywgJ2xhYmVsUG9zaXRpb24nXTtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlciA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnRUotQ0hFQ0tCT1gnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogV1JBUFBFUiwgYXR0cnM6IHsgJ3JvbGUnOiAnY2hlY2tib3gnLCAnYXJpYS1jaGVja2VkJzogJ2ZhbHNlJyB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW4gPSB0aGlzLmVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGluZGV4IDwgbGVuOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wcy5pbmRleE9mKHRoaXMuZWxlbWVudC5hdHRyaWJ1dGVzW2luZGV4XS5ub2RlTmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUodGhpcy5lbGVtZW50LmF0dHJpYnV0ZXNbaW5kZXhdLm5vZGVOYW1lLCB0aGlzLmVsZW1lbnQuYXR0cmlidXRlc1tpbmRleF0ubm9kZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaW5wdXQsIHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMy5kZXRhY2godGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBpbnB1dDtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgdGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfNC5zZXRWYWx1ZSgnZWoyX2luc3RhbmNlcycsIGVqSW5zdCwgdGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykgIT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuZWxlbWVudC5pZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pZCA9IGVqMl9iYXNlXzQuZ2V0VW5pcXVlSUQoJ2UtJyArIHRoaXMuZ2V0TW9kdWxlTmFtZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFdyYXBwZXIoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aXJlRXZlbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIENoZWNrQm94LnByb3RvdHlwZS5zZXREaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5nZXRXcmFwcGVyKCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKERJU0FCTEVEKTtcbiAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5nZXRXcmFwcGVyKCkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShMQUJFTClbMF07XG4gICAgICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYWJlbCA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBMQUJFTCwgaW5uZXJIVE1MOiB0ZXh0IH0pO1xuICAgICAgICAgICAgICAgIHZhciBsYWJlbFdyYXAgPSB0aGlzLmdldFdyYXBwZXIoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGFiZWwnKVswXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sYWJlbFBvc2l0aW9uID09PSAnYmVmb3JlJykge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbFdyYXAuaW5zZXJ0QmVmb3JlKGxhYmVsLCB0aGlzLmdldFdyYXBwZXIoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKEZSQU1FKVswXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbFdyYXAuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQ2hlY2tCb3gucHJvdG90eXBlLnVuV2lyZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5nZXRXcmFwcGVyKCk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlcik7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkTW9kdWxlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZShkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmtleURvd25IYW5kbGVyKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh3cmFwcGVyLCAnbW91c2Vkb3duJywgdGhpcy5tb3VzZURvd25IYW5kbGVyKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdmb2N1c291dCcsIHRoaXMuZm9jdXNPdXRIYW5kbGVyKTtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHdyYXBwZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1sYWJlbCcpWzBdO1xuICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKGxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5sYWJlbE1vdXNlSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIucmVtb3ZlKGxhYmVsLCAnbW91c2V1cCcsIHRoaXMubGFiZWxNb3VzZUhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBDaGVja0JveC5wcm90b3R5cGUud2lyZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gdGhpcy5nZXRXcmFwcGVyKCk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5hZGQodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmtleWJvYXJkTW9kdWxlID0gbmV3IGVqMl9iYXNlXzIuS2V5Ym9hcmRFdmVudHMod3JhcHBlciwge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZTogJ2tleWRvd24nLFxuICAgICAgICAgICAgICAgIGtleUFjdGlvbjogdGhpcy5rZXlBY3Rpb25IYW5kbGVyLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAga2V5Q29uZmlnczogeyBzcGFjZTogJ3NwYWNlJyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZChkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmtleURvd25IYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh3cmFwcGVyLCAnbW91c2Vkb3duJywgdGhpcy5tb3VzZURvd25IYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdmb2N1c291dCcsIHRoaXMuZm9jdXNPdXRIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHdyYXBwZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1sYWJlbCcpWzBdO1xuICAgICAgICAgICAgaWYgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKGxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5sYWJlbE1vdXNlSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKGxhYmVsLCAnbW91c2V1cCcsIHRoaXMubGFiZWxNb3VzZUhhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQ2hlY2tCb3g7XG4gICAgfShlajJfYmFzZV8xLkNvbXBvbmVudCkpO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8yLkV2ZW50KClcbiAgICBdLCBDaGVja0JveC5wcm90b3R5cGUsIFwiY2hhbmdlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuUHJvcGVydHkoZmFsc2UpXG4gICAgXSwgQ2hlY2tCb3gucHJvdG90eXBlLCBcImNoZWNrZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICBdLCBDaGVja0JveC5wcm90b3R5cGUsIFwiY3NzQ2xhc3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBDaGVja0JveC5wcm90b3R5cGUsIFwiZGlzYWJsZWRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBDaGVja0JveC5wcm90b3R5cGUsIFwiaW5kZXRlcm1pbmF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgIF0sIENoZWNrQm94LnByb3RvdHlwZSwgXCJsYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCdhZnRlcicpXG4gICAgXSwgQ2hlY2tCb3gucHJvdG90eXBlLCBcImxhYmVsUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICBdLCBDaGVja0JveC5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgIF0sIENoZWNrQm94LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuICAgIENoZWNrQm94ID0gX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuTm90aWZ5UHJvcGVydHlDaGFuZ2VzXG4gICAgXSwgQ2hlY2tCb3gpO1xuICAgIGV4cG9ydHMuQ2hlY2tCb3ggPSBDaGVja0JveDtcbiAgICBleHBvcnRzLmNoZWNrQm94QnVpbGRlciA9IGVqMl9iYXNlXzEuQ3JlYXRlQnVpbGRlcihDaGVja0JveCk7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2NoZWNrLWJveC9jaGVjay1ib3guanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiLi9yYWRpby1idXR0b25cIl0sIGZ1bmN0aW9uIChyZXF1aXJlLCBleHBvcnRzLCByYWRpb19idXR0b25fMSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgX19leHBvcnQocmFkaW9fYnV0dG9uXzEpO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9yYWRpby1idXR0b24vaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5kZWZpbmUoW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIkBzeW5jZnVzaW9uL2VqMi1iYXNlXCIsIFwiQHN5bmNmdXNpb24vZWoyLWJhc2VcIiwgXCJAc3luY2Z1c2lvbi9lajItYmFzZVwiLCBcIi4vLi4vY29tbW9uL2NvbW1vblwiXSwgZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMsIGVqMl9iYXNlXzEsIGVqMl9iYXNlXzIsIGVqMl9iYXNlXzMsIGVqMl9iYXNlXzQsIGNvbW1vbl8xKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIHZhciBMQUJFTCA9ICdlLWxhYmVsJztcbiAgICB2YXIgUklQUExFID0gJ2UtcmlwcGxlLWNvbnRhaW5lcic7XG4gICAgdmFyIFJUTCA9ICdlLXJ0bCc7XG4gICAgdmFyIFdSQVBQRVIgPSAnZS1yYWRpby13cmFwcGVyJztcbiAgICB2YXIgUmFkaW9CdXR0b24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoUmFkaW9CdXR0b24sIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIFJhZGlvQnV0dG9uKG9wdGlvbnMsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMsIGVsZW1lbnQpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5pc0tleVByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuY2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VFdmVudEFyZ3MgPSB7IGNoZWNrZWQ6IHRydWUsIGV2ZW50OiBldmVudCB9O1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdjaGFuZ2UnLCBjaGFuZ2VFdmVudEFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUudXBkYXRlQ2hhbmdlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXQ7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgICAgIHZhciByYWRpb0dycCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0LmUtcmFkaW9bbmFtZT1cIicgKyBuYW1lICsgJ1wiXScpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYWRpb0dycC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gcmFkaW9HcnBbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ICE9PSB0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuZWoyX2luc3RhbmNlc1swXS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0TGFiZWwoKTtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bldpcmVFdmVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVqMl9iYXNlXzMuZGV0YWNoKGxhYmVsKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuZm9jdXNIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNLZXlQcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMYWJlbCgpLmNsYXNzTGlzdC5hZGQoJ2UtZm9jdXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmZvY3VzT3V0SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0TGFiZWwoKS5jbGFzc0xpc3QucmVtb3ZlKCdlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5nZXRNb2R1bGVOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICdyYWRpbyc7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5nZXRQZXJzaXN0RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZE9uUGVyc2lzdChbJ2NoZWNrZWQnXSk7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5nZXRMYWJlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdFdyYXBwZXIoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm5hbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCduYW1lJywgdGhpcy5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLmluaXRXcmFwcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJpcHBsZVNwYW47XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgaWYgKCF3cmFwcGVyLmNsYXNzTGlzdC5jb250YWlucyhXUkFQUEVSKSkge1xuICAgICAgICAgICAgICAgIHdyYXBwZXIgPSBlajJfYmFzZV8zLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiBXUkFQUEVSIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxhYmVsID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdsYWJlbCcsIHsgYXR0cnM6IHsgZm9yOiB0aGlzLmVsZW1lbnQuaWQgfSB9KTtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgaWYgKGVqMl9iYXNlXzMuaXNSaXBwbGVFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgcmlwcGxlU3BhbiA9IGVqMl9iYXNlXzMuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAoUklQUExFKSB9KTtcbiAgICAgICAgICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChyaXBwbGVTcGFuKTtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8xLnJpcHBsZUVmZmVjdChyaXBwbGVTcGFuLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA0MDAsXG4gICAgICAgICAgICAgICAgICAgIGlzQ2VudGVyUmlwcGxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVSdGwpIHtcbiAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKFJUTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jc3NDbGFzcykge1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzMuYWRkQ2xhc3MoW2xhYmVsXSwgdGhpcy5jc3NDbGFzcy5zcGxpdCgnICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUZXh0KHRoaXMubGFiZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUua2V5RG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmlzS2V5UHJlc3NlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5sYWJlbFJpcHBsZUhhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHJpcHBsZSA9IHRoaXMuZ2V0TGFiZWwoKS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFJJUFBMRSlbMF07XG4gICAgICAgICAgICBpZiAocmlwcGxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50XzEgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgICAgICAgICAgICBldmVudF8xLmluaXRFdmVudChlLnR5cGUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJpcHBsZS5kaXNwYXRjaEV2ZW50KGV2ZW50XzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUubW91c2VEb3duSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaXNLZXlQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5vblByb3BlcnR5Q2hhbmdlZCA9IGZ1bmN0aW9uIChuZXdQcm9wLCBvbGRQcm9wKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmdldExhYmVsKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMobmV3UHJvcCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3AgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ2hhbmdlKG5ld1Byb3AuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2hlY2tlZCA9IG5ld1Byb3AuY2hlY2tlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXNhYmxlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuV2lyZUV2ZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aXJlRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY3NzQ2xhc3MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFByb3AuY3NzQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbC5jbGFzc0xpc3QucmVtb3ZlKG9sZFByb3AuY3NzQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZChuZXdQcm9wLmNzc0NsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVSdGwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuZW5hYmxlUnRsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZChSVEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LnJlbW92ZShSVEwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xhYmVsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGV4dChuZXdQcm9wLmxhYmVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdsYWJlbFBvc2l0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmxhYmVsUG9zaXRpb24gPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZCgnZS1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY2xhc3NMaXN0LnJlbW92ZSgnZS1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnbmFtZScsIG5ld1Byb3AubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndmFsdWUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndmFsdWUnLCBuZXdQcm9wLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnByZVJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgZWxlbWVudCA9IGNvbW1vbl8xLndyYXBwZXJJbml0aWFsaXplKCdFSi1SQURJT0JVVFRPTicsICdyYWRpbycsIGVsZW1lbnQsIFdSQVBQRVIpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykgIT09ICdyYWRpbycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3JhZGlvJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuZWxlbWVudC5pZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pZCA9IGVqMl9iYXNlXzQuZ2V0VW5pcXVlSUQoJ2UtJyArIHRoaXMuZ2V0TW9kdWxlTmFtZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUmFkaW9CdXR0b24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aXJlRXZlbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5zZXREaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0TGFiZWwoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0TGFiZWwgPSBsYWJlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKExBQkVMKVswXTtcbiAgICAgICAgICAgIGlmICh0ZXh0TGFiZWwpIHtcbiAgICAgICAgICAgICAgICB0ZXh0TGFiZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dExhYmVsID0gZWoyX2Jhc2VfMy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IExBQkVMLCBpbm5lckhUTUw6IHRleHQgfSk7XG4gICAgICAgICAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQodGV4dExhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsUG9zaXRpb24gPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMYWJlbCgpLmNsYXNzTGlzdC5hZGQoJ2UtcmlnaHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGFiZWwoKS5jbGFzc0xpc3QucmVtb3ZlKCdlLXJpZ2h0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJhZGlvQnV0dG9uLnByb3RvdHlwZS51bldpcmVFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSB0aGlzLmdldExhYmVsKCk7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnY2hhbmdlJywgdGhpcy5jaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZShkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmtleURvd25IYW5kbGVyKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZShsYWJlbCwgJ21vdXNlZG93bicsIHRoaXMubW91c2VEb3duSGFuZGxlcik7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnZm9jdXMnLCB0aGlzLmZvY3VzSGFuZGxlcik7XG4gICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnZm9jdXNvdXQnLCB0aGlzLmZvY3VzT3V0SGFuZGxlcik7XG4gICAgICAgICAgICB2YXIgcmlwcGxlTGFiZWwgPSBsYWJlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKExBQkVMKVswXTtcbiAgICAgICAgICAgIGlmIChyaXBwbGVMYWJlbCkge1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLnJlbW92ZShyaXBwbGVMYWJlbCwgJ21vdXNlZG93bicsIHRoaXMubGFiZWxSaXBwbGVIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBlajJfYmFzZV8yLkV2ZW50SGFuZGxlci5yZW1vdmUocmlwcGxlTGFiZWwsICdtb3VzZXVwJywgdGhpcy5sYWJlbFJpcHBsZUhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSYWRpb0J1dHRvbi5wcm90b3R5cGUud2lyZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0TGFiZWwoKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdjaGFuZ2UnLCB0aGlzLmNoYW5nZUhhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKGRvY3VtZW50LCAna2V5ZG93bicsIHRoaXMua2V5RG93bkhhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKGxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5tb3VzZURvd25IYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdmb2N1cycsIHRoaXMuZm9jdXNIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdmb2N1c291dCcsIHRoaXMuZm9jdXNPdXRIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIHZhciByaXBwbGVMYWJlbCA9IGxhYmVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoTEFCRUwpWzBdO1xuICAgICAgICAgICAgaWYgKHJpcHBsZUxhYmVsKSB7XG4gICAgICAgICAgICAgICAgZWoyX2Jhc2VfMi5FdmVudEhhbmRsZXIuYWRkKHJpcHBsZUxhYmVsLCAnbW91c2Vkb3duJywgdGhpcy5sYWJlbFJpcHBsZUhhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGVqMl9iYXNlXzIuRXZlbnRIYW5kbGVyLmFkZChyaXBwbGVMYWJlbCwgJ21vdXNldXAnLCB0aGlzLmxhYmVsUmlwcGxlSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBSYWRpb0J1dHRvbjtcbiAgICB9KGVqMl9iYXNlXzEuQ29tcG9uZW50KSk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzIuRXZlbnQoKVxuICAgIF0sIFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJjaGFuZ2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBSYWRpb0J1dHRvbi5wcm90b3R5cGUsIFwiY2hlY2tlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgIF0sIFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJjc3NDbGFzc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KGZhbHNlKVxuICAgIF0sIFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgIF0sIFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJsYWJlbFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCdhZnRlcicpXG4gICAgXSwgUmFkaW9CdXR0b24ucHJvdG90eXBlLCBcImxhYmVsUG9zaXRpb25cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgZWoyX2Jhc2VfMS5Qcm9wZXJ0eSgnJylcbiAgICBdLCBSYWRpb0J1dHRvbi5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBlajJfYmFzZV8xLlByb3BlcnR5KCcnKVxuICAgIF0sIFJhZGlvQnV0dG9uLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuICAgIFJhZGlvQnV0dG9uID0gX19kZWNvcmF0ZShbXG4gICAgICAgIGVqMl9iYXNlXzEuTm90aWZ5UHJvcGVydHlDaGFuZ2VzXG4gICAgXSwgUmFkaW9CdXR0b24pO1xuICAgIGV4cG9ydHMuUmFkaW9CdXR0b24gPSBSYWRpb0J1dHRvbjtcbiAgICBleHBvcnRzLnJhZGlvQnV0dG9uQnVpbGRlciA9IGVqMl9iYXNlXzEuQ3JlYXRlQnVpbGRlcihSYWRpb0J1dHRvbik7XG59KTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3JhZGlvLWJ1dHRvbi9yYWRpby1idXR0b24uanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ=="]}